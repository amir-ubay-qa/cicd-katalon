(function(){"use strict";function Dr(){if(window===window.top&&typeof window.katalonWaiter>"u"){const v=function(){this.domModifiedTime="",this.ajaxObjects=[]};v.prototype.katalon_smart_waiter_do_dom_wait=function(E,w){w==null&&(w=3e4);var x=0,N="";function q(){setTimeout(()=>{if(N&&Date.now()-N>w)N="",E(!0);else{if(window.katalonWaiter.domModifiedTime&&Date.now()-window.katalonWaiter.domModifiedTime<400)return x++,x===1&&(N=Date.now()),q();N="",E(!0)}},100)}return q()},v.prototype.katalon_smart_waiter_do_ajax_wait=function(E,w){w==null&&(w=3e4);var x=0,N="";function q(A){var k=A.getResponseHeader("Content-Type");return!(k&&k.includes("text/event-stream"))}function R(){function A(){if(window.katalonWaiter.ajaxObjects){if(window.katalonWaiter.ajaxObjects.length===0)return!0;for(var k in window.katalonWaiter.ajaxObjects){var D=window.katalonWaiter.ajaxObjects[k],V=D instanceof Promise;if(V){if(!D.isFulfilled)return!1}else if(D.readyState!==4&&D.readyState!==void 0&&D.readyState!==0&&q(D))return!1}return!0}else return window.katalonOriginXMLHttpRequest&&(window.katalonOriginXMLHttpRequest=""),!0}setTimeout(()=>{if(N&&Date.now()-N>w)x=0,N="",E(!0);else if(A())x=0,N="",E(!0);else return x++,x===1&&(N=Date.now()),R()},100)}return R()},function(){window.katalonWaiter=new v,console.log("content script: Katalon Waiter v.2 is up and running !");var w=window.document;function x(){window.katalonWaiter.domModifiedTime=Date.now()}if(new MutationObserver(R=>R.filter(A=>A.type==="childList").forEach(A=>{A.addedNodes.forEach(x)})).observe(w,{childList:!0,subtree:!0}),w.addEventListener("DOMContentLoaded",x,!1),window.XMLHttpRequest&&(!window.katalonOriginXMLHttpRequest||!window.katalonWaiter.ajaxObjects)){window.katalonWaiter.ajaxObjects=[],window.katalonOriginXMLHttpRequest=window.XMLHttpRequest,window.XMLHttpRequest=function(){var R=new window.katalonOriginXMLHttpRequest;return window.katalonWaiter.ajaxObjects.push(R),R};for(var q of Object.keys(window.katalonOriginXMLHttpRequest))window.XMLHttpRequest[q]=window.katalonOriginXMLHttpRequest[q];window.XMLHttpRequest.prototype=window.katalonOriginXMLHttpRequest.prototype}if(window.fetch){const R=window.fetch;window.fetch=new Proxy(R,{apply:function(A,k,D){var V=Reflect.apply(A,k,D);return V.finally(J=>(V.isFulfilled=!0,J)),window.katalonWaiter.ajaxObjects.push(V),V}})}}()}}function Hr(){typeof window.katalonpw>"u"&&function(){function v(E,w,x){function N(A,k){if(!w[A]){if(!E[A]){var D=typeof require=="function"&&require;if(!k&&D)return D(A,!0);if(q)return q(A,!0);var V=new Error("Cannot find module '"+A+"'");throw V.code="MODULE_NOT_FOUND",V}var J=w[A]={exports:{}};E[A][0].call(J.exports,function(X){var ve=E[A][1][X];return N(ve||X)},J,J.exports,v,E,w,x)}return w[A].exports}for(var q=typeof require=="function"&&require,R=0;R<x.length;R++)N(x[R]);return N}return v}()({1:[function(v,E,w){const{InjectedScript:x}=v("./tmp/injectedScript.js");window.katalonpw={InjectedScript:x()}},{"./tmp/injectedScript.js":2}],2:[function(v,E,w){var x=(e,t)=>{for(var r in t)e[r]=t[r]},N=e=>({...e,__esModule:!0}),q={};x(q,{InjectedScript:()=>qi}),E.exports=N(q);var R={queryAll(e,t){t.startsWith("/")&&e.nodeType!==Node.DOCUMENT_NODE&&(t="."+t);const r=[],n=e.ownerDocument||e;if(!n)return r;const i=n.evaluate(t,e,null,XPathResult.ORDERED_NODE_ITERATOR_TYPE);for(let o=i.iterateNext();o;o=i.iterateNext())o.nodeType===Node.ELEMENT_NODE&&r.push(o);return r}};function A(e,t){for(;t;){if(e.contains(t))return!0;t=V(t)}return!1}function k(e){if(e.parentElement)return e.parentElement;if(e.parentNode&&e.parentNode.nodeType===11&&e.parentNode.host)return e.parentNode.host}function D(e){let t=e;for(;t.parentNode;)t=t.parentNode;if(t.nodeType===11||t.nodeType===9)return t}function V(e){for(;e.parentElement;)e=e.parentElement;return k(e)}function J(e,t,r){for(;e;){const n=e.closest(t);if(r&&n!==r&&n?.contains(r))return;if(n)return n;e=V(e)}}function X(e,t){return e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,t):void 0}function ve(e,t){if(t=t??X(e),!t)return!0;if(Element.prototype.checkVisibility){if(!e.checkVisibility({checkOpacity:!1,checkVisibilityCSS:!1}))return!1}else{const r=e.closest("details,summary");if(r!==e&&r?.nodeName==="DETAILS"&&!r.open)return!1}return t.visibility==="visible"}function Ee(e){const t=X(e);if(!t)return!0;if(t.display==="contents"){for(let n=e.firstChild;n;n=n.nextSibling)if(n.nodeType===1&&Ee(n)||n.nodeType===3&&lt(n))return!0;return!1}if(!ve(e,t))return!1;const r=e.getBoundingClientRect();return r.width>0&&r.height>0}function lt(e){const t=e.ownerDocument.createRange();t.selectNode(e);const r=t.getBoundingClientRect();return r.width>0&&r.height>0}function ct(e){return e.hasAttribute("aria-label")||e.hasAttribute("aria-labelledby")}var ut="article:not([role]), aside:not([role]), main:not([role]), nav:not([role]), section:not([role]), [role=article], [role=complementary], [role=main], [role=navigation], [role=region]",Kr=["aria-atomic","aria-busy","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-dropeffect","aria-errormessage","aria-flowto","aria-grabbed","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-live","aria-owns","aria-relevant","aria-roledescription"];function ht(e){return Kr.some(t=>e.hasAttribute(t))}var ft={A:e=>e.hasAttribute("href")?"link":null,AREA:e=>e.hasAttribute("href")?"link":null,ARTICLE:()=>"article",ASIDE:()=>"complementary",BLOCKQUOTE:()=>"blockquote",BUTTON:()=>"button",CAPTION:()=>"caption",CODE:()=>"code",DATALIST:()=>"listbox",DD:()=>"definition",DEL:()=>"deletion",DETAILS:()=>"group",DFN:()=>"term",DIALOG:()=>"dialog",DT:()=>"term",EM:()=>"emphasis",FIELDSET:()=>"group",FIGURE:()=>"figure",FOOTER:e=>J(e,ut)?null:"contentinfo",FORM:e=>ct(e)?"form":null,H1:()=>"heading",H2:()=>"heading",H3:()=>"heading",H4:()=>"heading",H5:()=>"heading",H6:()=>"heading",HEADER:e=>J(e,ut)?null:"banner",HR:()=>"separator",HTML:()=>"document",IMG:e=>e.getAttribute("alt")===""&&!ht(e)&&Number.isNaN(Number(String(e.getAttribute("tabindex"))))?"presentation":"img",INPUT:e=>{const t=e.type.toLowerCase();if(t==="search")return e.hasAttribute("list")?"combobox":"searchbox";if(["email","tel","text","url",""].includes(t)){const r=Se(e,e.getAttribute("list"))[0];return r&&r.tagName==="DATALIST"?"combobox":"textbox"}return t==="hidden"?"":{button:"button",checkbox:"checkbox",image:"button",number:"spinbutton",radio:"radio",range:"slider",reset:"button",submit:"button"}[t]||"textbox"},INS:()=>"insertion",LI:()=>"listitem",MAIN:()=>"main",MARK:()=>"mark",MATH:()=>"math",MENU:()=>"list",METER:()=>"meter",NAV:()=>"navigation",OL:()=>"list",OPTGROUP:()=>"group",OPTION:()=>"option",OUTPUT:()=>"status",P:()=>"paragraph",PROGRESS:()=>"progressbar",SECTION:e=>ct(e)?"region":null,SELECT:e=>e.hasAttribute("multiple")||e.size>1?"listbox":"combobox",STRONG:()=>"strong",SUB:()=>"subscript",SUP:()=>"superscript",SVG:()=>"img",TABLE:()=>"table",TBODY:()=>"rowgroup",TD:e=>{const t=J(e,"table"),r=t?xe(t):"";return r==="grid"||r==="treegrid"?"gridcell":"cell"},TEXTAREA:()=>"textbox",TFOOT:()=>"rowgroup",TH:e=>{if(e.getAttribute("scope")==="col")return"columnheader";if(e.getAttribute("scope")==="row")return"rowheader";const t=J(e,"table"),r=t?xe(t):"";return r==="grid"||r==="treegrid"?"gridcell":"cell"},THEAD:()=>"rowgroup",TIME:()=>"time",TR:()=>"row",UL:()=>"list"},Yr={DD:["DL","DIV"],DIV:["DL"],DT:["DL","DIV"],LI:["OL","UL"],TBODY:["TABLE"],TD:["TR"],TFOOT:["TABLE"],TH:["TR"],THEAD:["TABLE"],TR:["THEAD","TBODY","TFOOT","TABLE"]};function dt(e){var t;const r=((t=ft[e.tagName.toUpperCase()])==null?void 0:t.call(ft,e))||"";if(!r)return null;let n=e;for(;n;){const i=k(n),o=Yr[n.tagName];if(!o||!i||!o.includes(i.tagName))break;const s=xe(i);if((s==="none"||s==="presentation")&&!pt(i))return s;n=i}return r}var Zr=["alert","alertdialog","application","article","banner","blockquote","button","caption","cell","checkbox","code","columnheader","combobox","command","complementary","composite","contentinfo","definition","deletion","dialog","directory","document","emphasis","feed","figure","form","generic","grid","gridcell","group","heading","img","input","insertion","landmark","link","list","listbox","listitem","log","main","marquee","math","meter","menu","menubar","menuitem","menuitemcheckbox","menuitemradio","navigation","none","note","option","paragraph","presentation","progressbar","radio","radiogroup","range","region","roletype","row","rowgroup","rowheader","scrollbar","search","searchbox","section","sectionhead","select","separator","slider","spinbutton","status","strong","structure","subscript","superscript","switch","tab","table","tablist","tabpanel","term","textbox","time","timer","toolbar","tooltip","tree","treegrid","treeitem","widget","window"],en=["command","composite","input","landmark","range","roletype","section","sectionhead","select","structure","widget","window"],tn=Zr.filter(e=>!en.includes(e));function xe(e){return(e.getAttribute("role")||"").split(" ").map(r=>r.trim()).find(r=>tn.includes(r))||null}function pt(e){return!ht(e)}function H(e){const t=xe(e);return!t||(t==="none"||t==="presentation")&&pt(e)?dt(e):t}function gt(e){return e===null?void 0:e.toLowerCase()==="true"}function He(e){if(["STYLE","SCRIPT","NOSCRIPT","TEMPLATE"].includes(e.tagName))return!0;const t=X(e),r=e.nodeName==="SLOT";if(t?.display==="contents"&&!r){for(let i=e.firstChild;i;i=i.nextSibling)if(i.nodeType===1&&!He(i)||i.nodeType===3&&lt(i))return!1;return!0}return!(e.nodeName==="OPTION"&&!!e.closest("select"))&&!r&&!ve(e,t)?!0:mt(e)}function mt(e){let t=Z?.get(e);if(t===void 0){if(t=!1,e.parentElement&&e.parentElement.shadowRoot&&!e.assignedSlot&&(t=!0),!t){const r=X(e);t=!r||r.display==="none"||gt(e.getAttribute("aria-hidden"))===!0}if(!t){const r=k(e);r&&(t=mt(r))}Z?.set(e,t)}return t}function Se(e,t){if(!t)return[];const r=D(e);if(!r)return[];try{const n=t.split(" ").filter(o=>!!o),i=new Set;for(const o of n){const s=r.querySelector("#"+CSS.escape(o));s&&i.add(s)}return[...i]}catch{return[]}}function rn(e){return e.replace(/\r\n/g,`
`).replace(/\u00A0/g," ").replace(/\s\s+/g," ").trim()}function wt(e,t){const r=[...e.querySelectorAll(t)];for(const n of Se(e,e.getAttribute("aria-owns")))n.matches(t)&&r.push(n),r.push(...n.querySelectorAll(t));return r}function bt(e){if(!e)return"";const t=e.content;if(t[0]==="'"&&t[t.length-1]==="'"||t[0]==='"'&&t[t.length-1]==='"'){const r=t.substring(1,t.length-1);return(e.display||"inline")!=="inline"?" "+r+" ":r}return""}function vt(e){const t=e.getAttribute("aria-labelledby");return t===null?null:Se(e,t)}function nn(e,t){const r=["button","cell","checkbox","columnheader","gridcell","heading","link","menuitem","menuitemcheckbox","menuitemradio","option","radio","row","rowheader","switch","tab","tooltip","treeitem"].includes(e),n=t&&["","caption","code","contentinfo","definition","deletion","emphasis","insertion","list","listitem","mark","none","paragraph","presentation","region","row","rowgroup","section","strong","subscript","superscript","table","term","time"].includes(e);return r||n}function Fe(e,t){const r=t?he:ue;let n=r?.get(e);return n===void 0&&(n="",["caption","code","definition","deletion","emphasis","generic","insertion","mark","paragraph","presentation","strong","subscript","suggestion","superscript","term","time"].includes(H(e)||"")||(n=rn(z(e,{includeHidden:t,visitedElements:new Set,embeddedInLabelledBy:"none",embeddedInLabel:"none",embeddedInTextAlternativeElement:!1,embeddedInTargetElement:"self"}))),r?.set(e,n)),n}function z(e,t){if(t.visitedElements.has(e))return"";const r={...t,embeddedInLabel:t.embeddedInLabel==="self"?"descendant":t.embeddedInLabel,embeddedInLabelledBy:t.embeddedInLabelledBy==="self"?"descendant":t.embeddedInLabelledBy,embeddedInTargetElement:t.embeddedInTargetElement==="self"?"descendant":t.embeddedInTargetElement};if(!t.includeHidden&&t.embeddedInLabelledBy!=="self"&&He(e))return t.visitedElements.add(e),"";const n=vt(e);if(t.embeddedInLabelledBy==="none"){const s=(n||[]).map(a=>z(a,{...t,embeddedInLabelledBy:"self",embeddedInTargetElement:"none",embeddedInLabel:"none",embeddedInTextAlternativeElement:!1})).join(" ");if(s)return s}const i=H(e)||"";if(t.embeddedInLabel!=="none"||t.embeddedInLabelledBy!=="none"){const s=[...e.labels||[]].includes(e),a=(n||[]).includes(e);if(!s&&!a){if(i==="textbox")return t.visitedElements.add(e),e.tagName==="INPUT"||e.tagName==="TEXTAREA"?e.value:e.textContent||"";if(["combobox","listbox"].includes(i)){t.visitedElements.add(e);let l;if(e.tagName==="SELECT")l=[...e.selectedOptions],!l.length&&e.options.length&&l.push(e.options[0]);else{const c=i==="combobox"?wt(e,"*").find(u=>H(u)==="listbox"):e;l=c?wt(c,'[aria-selected="true"]').filter(u=>H(u)==="option"):[]}return l.map(c=>z(c,r)).join(" ")}if(["progressbar","scrollbar","slider","spinbutton","meter"].includes(i))return t.visitedElements.add(e),e.hasAttribute("aria-valuetext")?e.getAttribute("aria-valuetext")||"":e.hasAttribute("aria-valuenow")?e.getAttribute("aria-valuenow")||"":e.getAttribute("value")||"";if(["menu"].includes(i))return t.visitedElements.add(e),""}}const o=e.getAttribute("aria-label")||"";if(o.trim())return t.visitedElements.add(e),o;if(!["presentation","none"].includes(i)){if(e.tagName==="INPUT"&&["button","submit","reset"].includes(e.type)){t.visitedElements.add(e);const s=e.value||"";return s.trim()?s:e.type==="submit"?"Submit":e.type==="reset"?"Reset":e.getAttribute("title")||""}if(e.tagName==="INPUT"&&e.type==="image"){t.visitedElements.add(e);const s=e.labels||[];if(s.length&&t.embeddedInLabelledBy==="none")return Te(s,t);const a=e.getAttribute("alt")||"";if(a.trim())return a;const l=e.getAttribute("title")||"";return l.trim()?l:"Submit"}if(!n&&e.tagName==="BUTTON"){t.visitedElements.add(e);const s=e.labels||[];if(s.length)return Te(s,t)}if(!n&&e.tagName==="OUTPUT"){t.visitedElements.add(e);const s=e.labels||[];return s.length?Te(s,t):e.getAttribute("title")||""}if(!n&&(e.tagName==="TEXTAREA"||e.tagName==="SELECT"||e.tagName==="INPUT")){t.visitedElements.add(e);const s=e.labels||[];if(s.length)return Te(s,t);const a=e.tagName==="INPUT"&&["text","password","search","tel","email","url"].includes(e.type)||e.tagName==="TEXTAREA",l=e.getAttribute("placeholder")||"",c=e.getAttribute("title")||"";return!a||c?c:l}if(!n&&e.tagName==="FIELDSET"){t.visitedElements.add(e);for(let a=e.firstElementChild;a;a=a.nextElementSibling)if(a.tagName==="LEGEND")return z(a,{...r,embeddedInTextAlternativeElement:!0});return e.getAttribute("title")||""}if(!n&&e.tagName==="FIGURE"){t.visitedElements.add(e);for(let a=e.firstElementChild;a;a=a.nextElementSibling)if(a.tagName==="FIGCAPTION")return z(a,{...r,embeddedInTextAlternativeElement:!0});return e.getAttribute("title")||""}if(e.tagName==="IMG"){t.visitedElements.add(e);const s=e.getAttribute("alt")||"";return s.trim()?s:e.getAttribute("title")||""}if(e.tagName==="TABLE"){t.visitedElements.add(e);for(let a=e.firstElementChild;a;a=a.nextElementSibling)if(a.tagName==="CAPTION")return z(a,{...r,embeddedInTextAlternativeElement:!0});const s=e.getAttribute("summary")||"";if(s)return s}if(e.tagName==="AREA"){t.visitedElements.add(e);const s=e.getAttribute("alt")||"";return s.trim()?s:e.getAttribute("title")||""}if(e.tagName.toUpperCase()==="SVG"||e.ownerSVGElement){t.visitedElements.add(e);for(let s=e.firstElementChild;s;s=s.nextElementSibling)if(s.tagName.toUpperCase()==="TITLE"&&s.ownerSVGElement)return z(s,{...r,embeddedInLabelledBy:"self"})}if(e.ownerSVGElement&&e.tagName.toUpperCase()==="A"){const s=e.getAttribute("xlink:title")||"";if(s.trim())return t.visitedElements.add(e),s}}if(nn(i,t.embeddedInTargetElement==="descendant")||t.embeddedInLabelledBy!=="none"||t.embeddedInLabel!=="none"||t.embeddedInTextAlternativeElement){t.visitedElements.add(e);const s=[],a=(u,h)=>{var g;if(!(h&&u.assignedSlot))if(u.nodeType===1){const S=((g=X(u))==null?void 0:g.display)||"inline";let m=z(u,r);(S!=="inline"||u.nodeName==="BR")&&(m=" "+m+" "),s.push(m)}else u.nodeType===3&&s.push(u.textContent||"")};s.push(bt(X(e,"::before")));const l=e.nodeName==="SLOT"?e.assignedNodes():[];if(l.length)for(const u of l)a(u,!1);else{for(let u=e.firstChild;u;u=u.nextSibling)a(u,!0);if(e.shadowRoot)for(let u=e.shadowRoot.firstChild;u;u=u.nextSibling)a(u,!0);for(const u of Se(e,e.getAttribute("aria-owns")))a(u,!0)}s.push(bt(X(e,"::after")));const c=s.join("");if(c.trim())return c}if(!["presentation","none"].includes(i)||e.tagName==="IFRAME"){t.visitedElements.add(e);const s=e.getAttribute("title")||"";if(s.trim())return s}return t.visitedElements.add(e),""}var Et=["gridcell","option","row","tab","rowheader","columnheader","treeitem"];function sn(e){return e.tagName==="OPTION"?e.selected:Et.includes(H(e)||"")?gt(e.getAttribute("aria-selected"))===!0:!1}var xt=["checkbox","menuitemcheckbox","option","radio","switch","menuitemradio","treeitem"];function on(e){const t=St(e,!0);return t==="error"?!1:t}function St(e,t){if(t&&e.tagName==="INPUT"&&e.indeterminate)return"mixed";if(e.tagName==="INPUT"&&["checkbox","radio"].includes(e.type))return e.checked;if(xt.includes(H(e)||"")){const r=e.getAttribute("aria-checked");return r==="true"?!0:t&&r==="mixed"?"mixed":!1}return"error"}var Tt=["button"];function an(e){if(Tt.includes(H(e)||"")){const t=e.getAttribute("aria-pressed");if(t==="true")return!0;if(t==="mixed")return"mixed"}return!1}var yt=["application","button","checkbox","combobox","gridcell","link","listbox","menuitem","row","rowheader","tab","treeitem","columnheader","menuitemcheckbox","menuitemradio","rowheader","switch"];function ln(e){if(e.tagName==="DETAILS")return e.open;if(yt.includes(H(e)||"")){const t=e.getAttribute("aria-expanded");return t===null?"none":t==="true"}return"none"}var _t=["heading","listitem","row","treeitem"];function cn(e){const t={H1:1,H2:2,H3:3,H4:4,H5:5,H6:6}[e.tagName];if(t)return t;if(_t.includes(H(e)||"")){const r=e.getAttribute("aria-level"),n=r===null?Number.NaN:Number(r);if(Number.isInteger(n)&&n>=1)return n}return 0}var un=["application","button","composite","gridcell","group","input","link","menuitem","scrollbar","separator","tab","checkbox","columnheader","combobox","grid","listbox","menu","menubar","menuitemcheckbox","menuitemradio","option","radio","radiogroup","row","rowheader","searchbox","select","slider","spinbutton","switch","tablist","textbox","toolbar","tree","treegrid","treeitem"];function Nt(e){return["BUTTON","INPUT","SELECT","TEXTAREA","OPTION","OPTGROUP"].includes(e.tagName)&&(e.hasAttribute("disabled")||At(e))?!0:kt(e)}function At(e){return e?e.tagName==="FIELDSET"&&e.hasAttribute("disabled")?!0:At(e.parentElement):!1}function kt(e){if(!e)return!1;if(un.includes(H(e)||"")){const t=(e.getAttribute("aria-disabled")||"").toLowerCase();if(t==="true")return!0;if(t==="false")return!1}return kt(k(e))}function Te(e,t){return[...e].map(r=>z(r,{...t,embeddedInLabel:"self",embeddedInTextAlternativeElement:!1,embeddedInLabelledBy:"none",embeddedInTargetElement:"none"})).filter(r=>!!r).join(" ")}var ue,he,Z,Ct=0;function Lt(){++Ct,ue??(ue=new Map),he??(he=new Map),Z??(Z=new Map)}function $t(){--Ct||(ue=void 0,he=void 0,Z=void 0)}function It(e,t){for(const r of t.jsonPath)e!=null&&(e=e[r]);return Rt(e,t)}function Rt(e,t){const r=typeof e=="string"&&!t.caseSensitive?e.toUpperCase():e,n=typeof t.value=="string"&&!t.caseSensitive?t.value.toUpperCase():t.value;return t.op==="<truthy>"?!!r:t.op==="="?n instanceof RegExp?typeof r=="string"&&!!r.match(n):r===n:typeof r!="string"||typeof n!="string"?!1:t.op==="*="?r.includes(n):t.op==="^="?r.startsWith(n):t.op==="$="?r.endsWith(n):t.op==="|="?r===n||r.startsWith(n+"-"):t.op==="~="?r.split(" ").includes(n):!1}function Ue(e){const t=e.ownerDocument;return e.nodeName==="SCRIPT"||e.nodeName==="NOSCRIPT"||e.nodeName==="STYLE"||t.head&&t.head.contains(e)}function j(e,t){let r=e.get(t);if(r===void 0){if(r={full:"",immediate:[]},!Ue(t)){let n="";if(t instanceof HTMLInputElement&&(t.type==="submit"||t.type==="button"))r={full:t.value,immediate:[t.value]};else{for(let i=t.firstChild;i;i=i.nextSibling)i.nodeType===Node.TEXT_NODE?(r.full+=i.nodeValue||"",n+=i.nodeValue||""):(n&&r.immediate.push(n),n="",i.nodeType===Node.ELEMENT_NODE&&(r.full+=j(e,i).full));n&&r.immediate.push(n),t.shadowRoot&&(r.full+=j(e,t.shadowRoot).full)}}e.set(t,r)}return r}function ye(e,t,r){if(Ue(t)||!r(j(e,t)))return"none";for(let n=t.firstChild;n;n=n.nextSibling)if(n.nodeType===Node.ELEMENT_NODE&&r(j(e,n)))return"selfAndChildren";return t.shadowRoot&&r(j(e,t.shadowRoot))?"selfAndChildren":"self"}function Ot(e,t){const r=vt(t);if(r)return r.map(o=>j(e,o));const n=t.getAttribute("aria-label");if(n!==null&&n.trim())return[{full:n,immediate:[n]}];const i=t.nodeName==="INPUT"&&t.type!=="hidden";if(["BUTTON","METER","OUTPUT","PROGRESS","SELECT","TEXTAREA"].includes(t.nodeName)||i){const o=t.labels;if(o)return[...o].map(s=>j(e,s))}return[]}var L=function(e,t,r){return e>=t&&e<=r};function F(e){return L(e,48,57)}function Mt(e){return F(e)||L(e,65,70)||L(e,97,102)}function hn(e){return L(e,65,90)}function fn(e){return L(e,97,122)}function dn(e){return hn(e)||fn(e)}function pn(e){return e>=128}function _e(e){return dn(e)||pn(e)||e===95}function qt(e){return _e(e)||F(e)||e===45}function gn(e){return L(e,0,8)||e===11||L(e,14,31)||e===127}function Ne(e){return e===10}function Q(e){return Ne(e)||e===9||e===32}var mn=1114111,je=class extends Error{constructor(e){super(e),this.name="InvalidCharacterError"}};function wn(e){const t=[];for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);if(n===13&&e.charCodeAt(r+1)===10&&(n=10,r++),(n===13||n===12)&&(n=10),n===0&&(n=65533),L(n,55296,56319)&&L(e.charCodeAt(r+1),56320,57343)){const i=n-55296,o=e.charCodeAt(r+1)-56320;n=Math.pow(2,16)+i*Math.pow(2,10)+o,r++}t.push(n)}return t}function $(e){if(e<=65535)return String.fromCharCode(e);e-=Math.pow(2,16);const t=Math.floor(e/Math.pow(2,10))+55296,r=e%Math.pow(2,10)+56320;return String.fromCharCode(t)+String.fromCharCode(r)}function bn(e){const t=wn(e);let r=-1;const n=[];let i;const o=function(d){return d>=t.length?-1:t[d]},s=function(d){if(d===void 0&&(d=1),d>3)throw"Spec Error: no more than three codepoints of lookahead.";return o(r+d)},a=function(d){return d===void 0&&(d=1),r+=d,i=o(r),!0},l=function(){return r-=1,!0},c=function(d){return d===void 0&&(d=i),d===-1},u=function(){if(h(),a(),Q(i)){for(;Q(s());)a();return new We}else{if(i===34)return m();if(i===35)if(qt(s())||T(s(1),s(2))){const d=new Qt("");return I(s(1),s(2),s(3))&&(d.type="id"),d.value=p(),d}else return new M(i);else return i===36?s()===61?(a(),new Tn):new M(i):i===39?m():i===40?new vn:i===41?new Gt:i===42?s()===61?(a(),new yn):new M(i):i===43?ce()?(l(),g()):new M(i):i===44?new jt:i===45?ce()?(l(),g()):s(1)===45&&s(2)===62?(a(2),new Ht):De()?(l(),S()):new M(i):i===46?ce()?(l(),g()):new M(i):i===58?new Ft:i===59?new Ut:i===60?s(1)===33&&s(2)===45&&s(3)===45?(a(3),new Dt):new M(i):i===64?I(s(1),s(2),s(3))?new zt(p()):new M(i):i===91?new Vt:i===92?_()?(l(),S()):new M(i):i===93?new Be:i===94?s()===61?(a(),new Sn):new M(i):i===123?new Wt:i===124?s()===61?(a(),new xn):s()===124?(a(),new Jt):new M(i):i===125?new Bt:i===126?s()===61?(a(),new En):new M(i):F(i)?(l(),g()):_e(i)?(l(),S()):c()?new ke:new M(i)}},h=function(){for(;s(1)===47&&s(2)===42;)for(a(2);;)if(a(),i===42&&s()===47){a();break}else if(c())return},g=function(){const d=Y();if(I(s(1),s(2),s(3))){const y=new _n;return y.value=d.value,y.repr=d.repr,y.type=d.type,y.unit=p(),y}else if(s()===37){a();const y=new er;return y.value=d.value,y.repr=d.repr,y}else{const y=new Zt;return y.value=d.value,y.repr=d.repr,y.type=d.type,y}},S=function(){const d=p();if(d.toLowerCase()==="url"&&s()===40){for(a();Q(s(1))&&Q(s(2));)a();return s()===34||s()===39?new Ce(d):Q(s())&&(s(2)===34||s(2)===39)?new Ce(d):b()}else return s()===40?(a(),new Ce(d)):new Xt(d)},m=function(d){d===void 0&&(d=i);let y="";for(;a();){if(i===d||c())return new Kt(y);if(Ne(i))return l(),new Pt;i===92?c(s())||(Ne(s())?a():y+=$(f())):y+=$(i)}throw new Error("Internal error")},b=function(){const d=new Yt("");for(;Q(s());)a();if(c(s()))return d;for(;a();){if(i===41||c())return d;if(Q(i)){for(;Q(s());)a();return s()===41||c(s())?(a(),d):(et(),new Ae)}else{if(i===34||i===39||i===40||gn(i))return et(),new Ae;if(i===92)if(_())d.value+=$(f());else return et(),new Ae;else d.value+=$(i)}}throw new Error("Internal error")},f=function(){if(a(),Mt(i)){const d=[i];for(let B=0;B<5&&Mt(s());B++)a(),d.push(i);Q(s())&&a();let y=parseInt(d.map(function(B){return String.fromCharCode(B)}).join(""),16);return y>mn&&(y=65533),y}else return c()?65533:i},T=function(d,y){return!(d!==92||Ne(y))},_=function(){return T(i,s())},I=function(d,y,B){return d===45?_e(y)||y===45||T(y,B):_e(d)?!0:d===92?T(d,y):!1},De=function(){return I(i,s(1),s(2))},Ze=function(d,y,B){return d===43||d===45?!!(F(y)||y===46&&F(B)):d===46?!!F(y):!!F(d)},ce=function(){return Ze(i,s(1),s(2))},p=function(){let d="";for(;a();)if(qt(i))d+=$(i);else if(_())d+=$(f());else return l(),d;throw new Error("Internal parse error")},Y=function(){let d="",y="integer";for((s()===43||s()===45)&&(a(),d+=$(i));F(s());)a(),d+=$(i);if(s(1)===46&&F(s(2)))for(a(),d+=$(i),a(),d+=$(i),y="number";F(s());)a(),d+=$(i);const B=s(1),tt=s(2),ji=s(3);if((B===69||B===101)&&F(tt))for(a(),d+=$(i),a(),d+=$(i),y="number";F(s());)a(),d+=$(i);else if((B===69||B===101)&&(tt===43||tt===45)&&F(ji))for(a(),d+=$(i),a(),d+=$(i),a(),d+=$(i),y="number";F(s());)a(),d+=$(i);const Wi=W(d);return{type:y,value:Wi,repr:d}},W=function(d){return+d},et=function(){for(;a();){if(i===41||c())return;_()&&f()}};let Pr=0;for(;!c(s());)if(n.push(u()),Pr++,Pr>t.length*2)throw new Error("I'm infinite-looping!");return n}var C=class{constructor(){this.tokenType=""}toJSON(){return{token:this.tokenType}}toString(){return this.tokenType}toSource(){return""+this}},Pt=class extends C{constructor(){super(...arguments),this.tokenType="BADSTRING"}},Ae=class extends C{constructor(){super(...arguments),this.tokenType="BADURL"}},We=class extends C{constructor(){super(...arguments),this.tokenType="WHITESPACE"}toString(){return"WS"}toSource(){return" "}},Dt=class extends C{constructor(){super(...arguments),this.tokenType="CDO"}toSource(){return"<!--"}},Ht=class extends C{constructor(){super(...arguments),this.tokenType="CDC"}toSource(){return"-->"}},Ft=class extends C{constructor(){super(...arguments),this.tokenType=":"}},Ut=class extends C{constructor(){super(...arguments),this.tokenType=";"}},jt=class extends C{constructor(){super(...arguments),this.tokenType=","}},ne=class extends C{constructor(){super(...arguments),this.value="",this.mirror=""}},Wt=class extends ne{constructor(){super(),this.tokenType="{",this.value="{",this.mirror="}"}},Bt=class extends ne{constructor(){super(),this.tokenType="}",this.value="}",this.mirror="{"}},Vt=class extends ne{constructor(){super(),this.tokenType="[",this.value="[",this.mirror="]"}},Be=class extends ne{constructor(){super(),this.tokenType="]",this.value="]",this.mirror="["}},vn=class extends ne{constructor(){super(),this.tokenType="(",this.value="(",this.mirror=")"}},Gt=class extends ne{constructor(){super(),this.tokenType=")",this.value=")",this.mirror="("}},En=class extends C{constructor(){super(...arguments),this.tokenType="~="}},xn=class extends C{constructor(){super(...arguments),this.tokenType="|="}},Sn=class extends C{constructor(){super(...arguments),this.tokenType="^="}},Tn=class extends C{constructor(){super(...arguments),this.tokenType="$="}},yn=class extends C{constructor(){super(...arguments),this.tokenType="*="}},Jt=class extends C{constructor(){super(...arguments),this.tokenType="||"}},ke=class extends C{constructor(){super(...arguments),this.tokenType="EOF"}toSource(){return""}},M=class extends C{constructor(e){super(),this.tokenType="DELIM",this.value="",this.value=$(e)}toString(){return"DELIM("+this.value+")"}toJSON(){const e=this.constructor.prototype.constructor.prototype.toJSON.call(this);return e.value=this.value,e}toSource(){return this.value==="\\"?`\\
`:this.value}},ie=class extends C{constructor(){super(...arguments),this.value=""}ASCIIMatch(e){return this.value.toLowerCase()===e.toLowerCase()}toJSON(){const e=this.constructor.prototype.constructor.prototype.toJSON.call(this);return e.value=this.value,e}},Xt=class extends ie{constructor(e){super(),this.tokenType="IDENT",this.value=e}toString(){return"IDENT("+this.value+")"}toSource(){return fe(this.value)}},Ce=class extends ie{constructor(e){super(),this.tokenType="FUNCTION",this.value=e,this.mirror=")"}toString(){return"FUNCTION("+this.value+")"}toSource(){return fe(this.value)+"("}},zt=class extends ie{constructor(e){super(),this.tokenType="AT-KEYWORD",this.value=e}toString(){return"AT("+this.value+")"}toSource(){return"@"+fe(this.value)}},Qt=class extends ie{constructor(e){super(),this.tokenType="HASH",this.value=e,this.type="unrestricted"}toString(){return"HASH("+this.value+")"}toJSON(){const e=this.constructor.prototype.constructor.prototype.toJSON.call(this);return e.value=this.value,e.type=this.type,e}toSource(){return this.type==="id"?"#"+fe(this.value):"#"+Nn(this.value)}},Kt=class extends ie{constructor(e){super(),this.tokenType="STRING",this.value=e}toString(){return'"'+tr(this.value)+'"'}},Yt=class extends ie{constructor(e){super(),this.tokenType="URL",this.value=e}toString(){return"URL("+this.value+")"}toSource(){return'url("'+tr(this.value)+'")'}},Zt=class extends C{constructor(){super(),this.tokenType="NUMBER",this.type="integer",this.repr=""}toString(){return this.type==="integer"?"INT("+this.value+")":"NUMBER("+this.value+")"}toJSON(){const e=super.toJSON();return e.value=this.value,e.type=this.type,e.repr=this.repr,e}toSource(){return this.repr}},er=class extends C{constructor(){super(),this.tokenType="PERCENTAGE",this.repr=""}toString(){return"PERCENTAGE("+this.value+")"}toJSON(){const e=this.constructor.prototype.constructor.prototype.toJSON.call(this);return e.value=this.value,e.repr=this.repr,e}toSource(){return this.repr+"%"}},_n=class extends C{constructor(){super(),this.tokenType="DIMENSION",this.type="integer",this.repr="",this.unit=""}toString(){return"DIM("+this.value+","+this.unit+")"}toJSON(){const e=this.constructor.prototype.constructor.prototype.toJSON.call(this);return e.value=this.value,e.type=this.type,e.repr=this.repr,e.unit=this.unit,e}toSource(){const e=this.repr;let t=fe(this.unit);return t[0].toLowerCase()==="e"&&(t[1]==="-"||L(t.charCodeAt(1),48,57))&&(t="\\65 "+t.slice(1,t.length)),e+t}};function fe(e){e=""+e;let t="";const r=e.charCodeAt(0);for(let n=0;n<e.length;n++){const i=e.charCodeAt(n);if(i===0)throw new je("Invalid character: the input contains U+0000.");L(i,1,31)||i===127||n===0&&L(i,48,57)||n===1&&L(i,48,57)&&r===45?t+="\\"+i.toString(16)+" ":i>=128||i===45||i===95||L(i,48,57)||L(i,65,90)||L(i,97,122)?t+=e[n]:t+="\\"+e[n]}return t}function Nn(e){e=""+e;let t="";for(let r=0;r<e.length;r++){const n=e.charCodeAt(r);if(n===0)throw new je("Invalid character: the input contains U+0000.");n>=128||n===45||n===95||L(n,48,57)||L(n,65,90)||L(n,97,122)?t+=e[r]:t+="\\"+n.toString(16)+" "}return t}function tr(e){e=""+e;let t="";for(let r=0;r<e.length;r++){const n=e.charCodeAt(r);if(n===0)throw new je("Invalid character: the input contains U+0000.");L(n,1,31)||n===127?t+="\\"+n.toString(16)+" ":n===34||n===92?t+="\\"+e[r]:t+=e[r]}return t}var P=class extends Error{};function An(e,t){let r;try{r=bn(e),r[r.length-1]instanceof ke||r.push(new ke)}catch(p){const Y=p.message+` while parsing selector "${e}"`,W=(p.stack||"").indexOf(p.message);throw W!==-1&&(p.stack=p.stack.substring(0,W)+Y+p.stack.substring(W+p.message.length)),p.message=Y,p}const n=r.find(p=>p instanceof zt||p instanceof Pt||p instanceof Ae||p instanceof Jt||p instanceof Dt||p instanceof Ht||p instanceof Ut||p instanceof Wt||p instanceof Bt||p instanceof Yt||p instanceof er);if(n)throw new P(`Unsupported token "${n.toSource()}" while parsing selector "${e}"`);let i=0;const o=new Set;function s(){return new P(`Unexpected token "${r[i].toSource()}" while parsing selector "${e}"`)}function a(){for(;r[i]instanceof We;)i++}function l(p=i){return r[p]instanceof Xt}function c(p=i){return r[p]instanceof Kt}function u(p=i){return r[p]instanceof Zt}function h(p=i){return r[p]instanceof jt}function g(p=i){return r[p]instanceof Gt}function S(p=i){return r[p]instanceof M&&r[p].value==="*"}function m(p=i){return r[p]instanceof ke}function b(p=i){return r[p]instanceof M&&[">","+","~"].includes(r[p].value)}function f(p=i){return h(p)||g(p)||m(p)||b(p)||r[p]instanceof We}function T(){const p=[_()];for(;a(),!!h();)i++,p.push(_());return p}function _(){return a(),u()||c()?r[i++].value:I()}function I(){const p={simples:[]};for(a(),b()?p.simples.push({selector:{functions:[{name:"scope",args:[]}]},combinator:""}):p.simples.push({selector:De(),combinator:""});;){if(a(),b())p.simples[p.simples.length-1].combinator=r[i++].value,a();else if(f())break;p.simples.push({combinator:"",selector:De()})}return p}function De(){let p="";const Y=[];for(;!f();)if(l()||S())p+=r[i++].toSource();else if(r[i]instanceof Qt)p+=r[i++].toSource();else if(r[i]instanceof M&&r[i].value===".")if(i++,l())p+="."+r[i++].toSource();else throw s();else if(r[i]instanceof Ft)if(i++,l())if(!t.has(r[i].value.toLowerCase()))p+=":"+r[i++].toSource();else{const W=r[i++].value.toLowerCase();Y.push({name:W,args:[]}),o.add(W)}else if(r[i]instanceof Ce){const W=r[i++].value.toLowerCase();if(t.has(W)?(Y.push({name:W,args:T()}),o.add(W)):p+=`:${W}(${Ze()})`,a(),!g())throw s();i++}else throw s();else if(r[i]instanceof Vt){for(p+="[",i++;!(r[i]instanceof Be)&&!m();)p+=r[i++].toSource();if(!(r[i]instanceof Be))throw s();p+="]",i++}else throw s();if(!p&&!Y.length)throw s();return{css:p||void 0,functions:Y}}function Ze(){let p="";for(;!g()&&!m();)p+=r[i++].toSource();return p}const ce=T();if(!m())throw new P(`Error while parsing selector "${e}"`);if(ce.some(p=>typeof p!="object"||!("simples"in p)))throw new P(`Error while parsing selector "${e}"`);return{selector:ce,names:Array.from(o)}}var Ve=new Set(["internal:has","internal:has-not","internal:and","internal:or","internal:chain","left-of","right-of","above","below","near"]),kn=new Set(["left-of","right-of","above","below","near"]),rr=new Set(["not","is","where","has","scope","light","visible","text","text-matches","text-is","has-text","above","below","right-of","left-of","near","nth-match"]);function Le(e){const t=$n(e),r=[];for(const n of t.parts){if(n.name==="css"||n.name==="css:light"){n.name==="css:light"&&(n.body=":light("+n.body+")");const i=An(n.body,rr);r.push({name:"css",body:i.selector,source:n.body});continue}if(Ve.has(n.name)){let i,o;try{const c=JSON.parse("["+n.body+"]");if(!Array.isArray(c)||c.length<1||c.length>2||typeof c[0]!="string")throw new P(`Malformed selector: ${n.name}=`+n.body);if(i=c[0],c.length===2){if(typeof c[1]!="number"||!kn.has(n.name))throw new P(`Malformed selector: ${n.name}=`+n.body);o=c[1]}}catch{throw new P(`Malformed selector: ${n.name}=`+n.body)}const s={name:n.name,source:n.body,body:{parsed:Le(i),distance:o}},a=[...s.body.parsed.parts].reverse().find(c=>c.name==="internal:control"&&c.body==="enter-frame"),l=a?s.body.parsed.parts.indexOf(a):-1;l!==-1&&Cn(s.body.parsed.parts.slice(0,l+1),r.slice(0,l+1))&&s.body.parsed.parts.splice(0,l+1),r.push(s);continue}r.push({...n,source:n.body})}if(r[0]&&Ve.has(r[0].name))throw new P(`"${r[0].name}" selector cannot be first`);return{capture:t.capture,parts:r}}function Cn(e,t){return se({parts:e})===se({parts:t})}function se(e){return typeof e=="string"?e:e.parts.map((t,r)=>{const n=t.name==="css"?"":t.name+"=";return`${r===e.capture?"*":""}${n}${t.source}`}).join(" >> ")}function Ln(e,t){const r=(n,i)=>{for(const o of n.parts)t(o,i),Ve.has(o.name)&&r(o.body.parsed,!0)};r(e,!1)}function $n(e){if(!e)return{parts:[]};let t=0,r,n=0;const i={parts:[]},o=()=>{const a=e.substring(n,t).trim(),l=a.indexOf("=");let c,u;l!==-1&&a.substring(0,l).trim().match(/^[a-zA-Z_0-9-+:*]+$/)?(c=a.substring(0,l).trim(),u=a.substring(l+1)):a.length>1&&a[0]==='"'&&a[a.length-1]==='"'||a.length>1&&a[0]==="'"&&a[a.length-1]==="'"?(c="text",u=a):/^\(*\/\//.test(a)||a.startsWith("..")?(c="xpath",u=a):(c="css",u=a);let h=!1;if(c[0]==="*"&&(h=!0,c=c.substring(1)),i.parts.push({name:c,body:u}),h){if(i.capture!==void 0)throw new P("Only one of the selectors can capture using * modifier");i.capture=i.parts.length-1}};if(!e.includes(">>"))return t=e.length,o(),i;const s=()=>{const l=e.substring(n,t).match(/^\s*text\s*=(.*)$/);return!!l&&!!l[1]};for(;t<e.length;){const a=e[t];a==="\\"&&t+1<e.length?t+=2:a===r?(r=void 0,t++):!r&&(a==='"'||a==="'"||a==="`")&&!s()?(r=a,t++):!r&&a===">"&&e[t+1]===">"?(o(),t+=2,n=t):t++}return o(),i}function ee(e,t){let r=0,n=e.length===0;const i=()=>e[r]||"",o=()=>{const f=i();return++r,n=r>=e.length,f},s=f=>{throw n?new P(`Unexpected end of selector while parsing selector \`${e}\``):new P(`Error while parsing selector \`${e}\` - unexpected symbol "${i()}" at position ${r}`+(f?" during "+f:""))};function a(){for(;!n&&/\s/.test(i());)o()}function l(f){return f>=""||f>="0"&&f<="9"||f>="A"&&f<="Z"||f>="a"&&f<="z"||f>="0"&&f<="9"||f==="_"||f==="-"}function c(){let f="";for(a();!n&&l(i());)f+=o();return f}function u(f){let T=o();for(T!==f&&s("parsing quoted string");!n&&i()!==f;)i()==="\\"&&o(),T+=o();return i()!==f&&s("parsing quoted string"),T+=o(),T}function h(){o()!=="/"&&s("parsing regular expression");let f="",T=!1;for(;!n;){if(i()==="\\")f+=o(),n&&s("parsing regular expression");else if(T&&i()==="]")T=!1;else if(!T&&i()==="[")T=!0;else if(!T&&i()==="/")break;f+=o()}o()!=="/"&&s("parsing regular expression");let _="";for(;!n&&i().match(/[dgimsuy]/);)_+=o();try{return new RegExp(f,_)}catch(I){throw new P(`Error while parsing selector \`${e}\`: ${I.message}`)}}function g(){let f="";return a(),i()==="'"||i()==='"'?f=u(i()).slice(1,-1):f=c(),f||s("parsing property path"),f}function S(){a();let f="";return n||(f+=o()),!n&&f!=="="&&(f+=o()),["=","*=","^=","$=","|=","~="].includes(f)||s("parsing operator"),f}function m(){o();const f=[];for(f.push(g()),a();i()===".";)o(),f.push(g()),a();if(i()==="]")return o(),{name:f.join("."),jsonPath:f,op:"<truthy>",value:null,caseSensitive:!1};const T=S();let _,I=!0;if(a(),i()==="/"){if(T!=="=")throw new P(`Error while parsing selector \`${e}\` - cannot use ${T} in attribute with regular expression`);_=h()}else if(i()==="'"||i()==='"')_=u(i()).slice(1,-1),a(),i()==="i"||i()==="I"?(I=!1,o()):(i()==="s"||i()==="S")&&(I=!0,o());else{for(_="";!n&&(l(i())||i()==="+"||i()===".");)_+=o();_==="true"?_=!0:_==="false"?_=!1:t||(_=+_,Number.isNaN(_)&&s("parsing attribute value"))}if(a(),i()!=="]"&&s("parsing attribute value"),o(),T!=="="&&typeof _!="string")throw new P(`Error while parsing selector \`${e}\` - cannot use ${T} in attribute with non-string matching value - ${_}`);return{name:f.join("."),jsonPath:f,op:T,value:_,caseSensitive:I}}const b={name:"",attributes:[]};for(b.name=c(),a();i()==="[";)b.attributes.push(m()),a();if(n||s(void 0),!b.name&&!b.attributes.length)throw new P(`Error while parsing selector \`${e}\` - selector cannot be empty`);return b}function nr(e){return e.displayName||e.name||"Anonymous"}function In(e){if(e.type)switch(typeof e.type){case"function":return nr(e.type);case"string":return e.type;case"object":return e.type.displayName||(e.type.render?nr(e.type.render):"")}if(e._currentElement){const t=e._currentElement.type;if(typeof t=="string")return t;if(typeof t=="function")return t.displayName||t.name||"Anonymous"}return""}function Rn(e){var t,r;return(r=e.key)!=null?r:(t=e._currentElement)==null?void 0:t.key}function On(e){if(e.child){const r=[];for(let n=e.child;n;n=n.sibling)r.push(n);return r}if(!e._currentElement)return[];const t=r=>{var n;const i=(n=r._currentElement)==null?void 0:n.type;return typeof i=="function"||typeof i=="string"};if(e._renderedComponent){const r=e._renderedComponent;return t(r)?[r]:[]}return e._renderedChildren?[...Object.values(e._renderedChildren)].filter(t):[]}function Mn(e){var t;const r=e.memoizedProps||((t=e._currentElement)==null?void 0:t.props);if(!r||typeof r=="string")return r;const n={...r};return delete n.children,n}function ir(e){var t;const r={key:Rn(e),name:In(e),children:On(e).map(ir),rootElements:[],props:Mn(e)},n=e.stateNode||e._hostNode||((t=e._renderedComponent)==null?void 0:t._hostNode);if(n instanceof Element)r.rootElements.push(n);else for(const i of r.children)r.rootElements.push(...i.rootElements);return r}function sr(e,t,r=[]){t(e)&&r.push(e);for(const n of e.children)sr(n,t,r);return r}function or(e,t=[]){const n=(e.ownerDocument||e).createTreeWalker(e,NodeFilter.SHOW_ELEMENT);do{const i=n.currentNode,o=i,s=Object.keys(o).find(l=>l.startsWith("__reactContainer")&&o[l]!==null);if(s)t.push(o[s].stateNode.current);else{const l="_reactRootContainer";o.hasOwnProperty(l)&&o[l]!==null&&t.push(o[l]._internalRoot.current)}if(i instanceof Element&&i.hasAttribute("data-reactroot"))for(const l of Object.keys(i))(l.startsWith("__reactInternalInstance")||l.startsWith("__reactFiber"))&&t.push(i[l]);const a=i instanceof Element?i.shadowRoot:null;a&&or(a,t)}while(n.nextNode());return t}var qn={queryAll(e,t){const{name:r,attributes:n}=ee(t,!1),s=or(e.ownerDocument||e).map(l=>ir(l)).map(l=>sr(l,c=>{var u;const h=(u=c.props)!=null?u:{};if(c.key!==void 0&&(h.key=c.key),r&&c.name!==r||c.rootElements.some(g=>!A(e,g)))return!1;for(const g of n)if(!It(h,g))return!1;return!0})).flat(),a=new Set;for(const l of s)for(const c of l.rootElements)a.add(c);return[...a]}};function ar(e,t){const r=e.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/");let n=r.substring(r.lastIndexOf("/")+1);return n.endsWith(t)&&(n=n.substring(0,n.length-t.length)),n}function Pn(e,t){return t?t.toUpperCase():""}var Dn=/(?:^|[-_/])(\w)/g,lr=e=>e&&e.replace(Dn,Pn);function Hn(e){function t(u){const h=u.name||u._componentTag||u.__playwright_guessedName;if(h)return h;const g=u.__file;if(g)return lr(ar(g,".vue"))}function r(u,h){return u.type.__playwright_guessedName=h,h}function n(u){var h,g,S,m;const b=t(u.type||{});if(b)return b;if(u.root===u)return"Root";for(const f in(g=(h=u.parent)==null?void 0:h.type)==null?void 0:g.components)if(((S=u.parent)==null?void 0:S.type.components[f])===u.type)return r(u,f);for(const f in(m=u.appContext)==null?void 0:m.components)if(u.appContext.components[f]===u.type)return r(u,f);return"Anonymous Component"}function i(u){return u._isBeingDestroyed||u.isUnmounted}function o(u){return u.subTree.type.toString()==="Symbol(Fragment)"}function s(u){const h=[];return u.component&&h.push(u.component),u.suspense&&h.push(...s(u.suspense.activeBranch)),Array.isArray(u.children)&&u.children.forEach(g=>{g.component?h.push(g.component):h.push(...s(g))}),h.filter(g=>{var S;return!i(g)&&!((S=g.type.devtools)!=null&&S.hide)})}function a(u){return o(u)?l(u.subTree):[u.subTree.el]}function l(u){if(!u.children)return[];const h=[];for(let g=0,S=u.children.length;g<S;g++){const m=u.children[g];m.component?h.push(...a(m.component)):m.el&&h.push(m.el)}return h}function c(u){return{name:n(u),children:s(u.subTree).map(c),rootElements:a(u),props:u.props}}return c(e)}function Fn(e){function t(o){const s=o.displayName||o.name||o._componentTag;if(s)return s;const a=o.__file;if(a)return lr(ar(a,".vue"))}function r(o){const s=t(o.$options||o.fnOptions||{});return s||(o.$root===o?"Root":"Anonymous Component")}function n(o){return o.$children?o.$children:Array.isArray(o.subTree.children)?o.subTree.children.filter(s=>!!s.component).map(s=>s.component):[]}function i(o){return{name:r(o),children:n(o).map(i),rootElements:[o.$el],props:o._props}}return i(e)}function cr(e,t,r=[]){t(e)&&r.push(e);for(const n of e.children)cr(n,t,r);return r}function ur(e,t=[]){const n=(e.ownerDocument||e).createTreeWalker(e,NodeFilter.SHOW_ELEMENT),i=new Set;do{const o=n.currentNode;o.__vue__&&i.add(o.__vue__.$root),o.__vue_app__&&o._vnode&&o._vnode.component&&t.push({root:o._vnode.component,version:3});const s=o instanceof Element?o.shadowRoot:null;s&&ur(s,t)}while(n.nextNode());for(const o of i)t.push({version:2,root:o});return t}var Un={queryAll(e,t){const r=e.ownerDocument||e,{name:n,attributes:i}=ee(t,!1),a=ur(r).map(c=>c.version===3?Hn(c.root):Fn(c.root)).map(c=>cr(c,u=>{if(n&&u.name!==n||u.rootElements.some(h=>!A(e,h)))return!1;for(const h of i)if(!It(u.props,h))return!1;return!0})).flat(),l=new Set;for(const c of a)for(const u of c.rootElements)l.add(u);return[...l]}};function $e(e,t="'"){const r=JSON.stringify(e),n=r.substring(1,r.length-1).replace(/\\"/g,'"');if(t==="'")return t+n.replace(/[']/g,"\\'")+t;if(t==='"')return t+n.replace(/["]/g,'\\"')+t;if(t==="`")return t+n.replace(/[`]/g,"`")+t;throw new Error("Invalid escape char")}function Ie(e){return e.charAt(0).toUpperCase()+e.substring(1)}function hr(e){return e.replace(/([a-z0-9])([A-Z])/g,"$1_$2").replace(/([A-Z])([A-Z][a-z])/g,"$1_$2").toLowerCase()}function G(e){let t="";for(let r=0;r<e.length;r++)t+=jn(e,r);return t}function jn(e,t){const r=e.charCodeAt(t);return r===0?"�":r>=1&&r<=31||r>=48&&r<=57&&(t===0||t===1&&e.charCodeAt(0)===45)?"\\"+r.toString(16)+" ":t===0&&r===45&&e.length===1?"\\"+e.charAt(t):r>=128||r===45||r===95||r>=48&&r<=57||r>=65&&r<=90||r>=97&&r<=122?e.charAt(t):"\\"+e.charAt(t)}function U(e){return e.replace(/\u200b/g,"").trim().replace(/\s+/g," ")}function Re(e){return e.replace(/(^|[^\\])(\\\\)*\\(['"`])/g,"$1$2$3")}function fr(e){return e.unicode||e.unicodeSets?String(e):String(e).replace(/(^|[^\\])(\\\\)*(["'`])/g,"$1$2\\$3").replace(/>>/g,"\\>\\>")}function Oe(e,t){return typeof e!="string"?fr(e):`${JSON.stringify(e)}${t?"s":"i"}`}function K(e,t){return typeof e!="string"?fr(e):`"${e.replace(/\\/g,"\\\\").replace(/["]/g,'\\"')}"${t?"s":"i"}`}var dr=["selected","checked","pressed","expanded","level","disabled","name","include-hidden"];dr.sort();function de(e,t,r){if(!t.includes(r))throw new Error(`"${e}" attribute is only supported for roles: ${t.slice().sort().map(n=>`"${n}"`).join(", ")}`)}function oe(e,t){if(e.op!=="<truthy>"&&!t.includes(e.value))throw new Error(`"${e.name}" must be one of ${t.map(r=>JSON.stringify(r)).join(", ")}`)}function ae(e,t){if(!t.includes(e.op))throw new Error(`"${e.name}" does not support "${e.op}" matcher`)}function Wn(e,t){const r={role:t};for(const n of e)switch(n.name){case"checked":{de(n.name,xt,t),oe(n,[!0,!1,"mixed"]),ae(n,["<truthy>","="]),r.checked=n.op==="<truthy>"?!0:n.value;break}case"pressed":{de(n.name,Tt,t),oe(n,[!0,!1,"mixed"]),ae(n,["<truthy>","="]),r.pressed=n.op==="<truthy>"?!0:n.value;break}case"selected":{de(n.name,Et,t),oe(n,[!0,!1]),ae(n,["<truthy>","="]),r.selected=n.op==="<truthy>"?!0:n.value;break}case"expanded":{de(n.name,yt,t),oe(n,[!0,!1]),ae(n,["<truthy>","="]),r.expanded=n.op==="<truthy>"?!0:n.value;break}case"level":{if(de(n.name,_t,t),typeof n.value=="string"&&(n.value=+n.value),n.op!=="="||typeof n.value!="number"||Number.isNaN(n.value))throw new Error('"level" attribute must be compared to a number');r.level=n.value;break}case"disabled":{oe(n,[!0,!1]),ae(n,["<truthy>","="]),r.disabled=n.op==="<truthy>"?!0:n.value;break}case"name":{if(n.op==="<truthy>")throw new Error('"name" attribute must have a value');if(typeof n.value!="string"&&!(n.value instanceof RegExp))throw new Error('"name" attribute must be a string or a regular expression');r.name=n.value,r.nameOp=n.op,r.exact=n.caseSensitive;break}case"include-hidden":{oe(n,[!0,!1]),ae(n,["<truthy>","="]),r.includeHidden=n.op==="<truthy>"?!0:n.value;break}default:throw new Error(`Unknown attribute "${n.name}", must be one of ${dr.map(i=>`"${i}"`).join(", ")}.`)}return r}function Bn(e,t,r){const n=[],i=s=>{if(H(s)===t.role&&!(t.selected!==void 0&&sn(s)!==t.selected)&&!(t.checked!==void 0&&on(s)!==t.checked)&&!(t.pressed!==void 0&&an(s)!==t.pressed)&&!(t.expanded!==void 0&&ln(s)!==t.expanded)&&!(t.level!==void 0&&cn(s)!==t.level)&&!(t.disabled!==void 0&&Nt(s)!==t.disabled)&&!(!t.includeHidden&&He(s))){if(t.name!==void 0){const a=U(Fe(s,!!t.includeHidden));if(typeof t.name=="string"&&(t.name=U(t.name)),r&&!t.exact&&t.nameOp==="="&&(t.nameOp="*="),!Rt(a,{op:t.nameOp||"=",value:t.name,caseSensitive:!!t.exact}))return}n.push(s)}},o=s=>{const a=[];s.shadowRoot&&a.push(s.shadowRoot);for(const l of s.querySelectorAll("*"))i(l),l.shadowRoot&&a.push(l.shadowRoot);a.forEach(o)};return o(e),n}function pr(e){return{queryAll:(t,r)=>{const n=ee(r,!0),i=n.name.toLowerCase();if(!i)throw new Error("Role must not be empty");const o=Wn(n.attributes,i);Lt();try{return Bn(t,o,e)}finally{$t()}}}}function Vn(e,t,r){const n=e.left-t.right;if(!(n<0||r!==void 0&&n>r))return n+Math.max(t.bottom-e.bottom,0)+Math.max(e.top-t.top,0)}function Gn(e,t,r){const n=t.left-e.right;if(!(n<0||r!==void 0&&n>r))return n+Math.max(t.bottom-e.bottom,0)+Math.max(e.top-t.top,0)}function Jn(e,t,r){const n=t.top-e.bottom;if(!(n<0||r!==void 0&&n>r))return n+Math.max(e.left-t.left,0)+Math.max(t.right-e.right,0)}function Xn(e,t,r){const n=e.top-t.bottom;if(!(n<0||r!==void 0&&n>r))return n+Math.max(e.left-t.left,0)+Math.max(t.right-e.right,0)}function zn(e,t,r){const n=r===void 0?50:r;let i=0;return e.left-t.right>=0&&(i+=e.left-t.right),t.left-e.right>=0&&(i+=t.left-e.right),t.top-e.bottom>=0&&(i+=t.top-e.bottom),e.top-t.bottom>=0&&(i+=e.top-t.bottom),i>n?void 0:i}var Qn=["left-of","right-of","above","below","near"];function gr(e,t,r,n){const i=t.getBoundingClientRect(),o={"left-of":Gn,"right-of":Vn,above:Jn,below:Xn,near:zn}[e];let s;for(const a of r){if(a===t)continue;const l=o(i,a.getBoundingClientRect(),n);l!==void 0&&(s===void 0||l<s)&&(s=l)}return s}var Kn=class{constructor(e){this._engines=new Map,this._cacheQueryCSS=new Map,this._cacheMatches=new Map,this._cacheQuery=new Map,this._cacheMatchesSimple=new Map,this._cacheMatchesParents=new Map,this._cacheCallMatches=new Map,this._cacheCallQuery=new Map,this._cacheQuerySimple=new Map,this._cacheText=new Map,this._retainCacheCounter=0;for(const[n,i]of e)this._engines.set(n,i);this._engines.set("not",ei),this._engines.set("is",pe),this._engines.set("where",pe),this._engines.set("has",Yn),this._engines.set("scope",Zn),this._engines.set("light",ti),this._engines.set("visible",ri),this._engines.set("text",ni),this._engines.set("text-is",ii),this._engines.set("text-matches",si),this._engines.set("has-text",oi),this._engines.set("right-of",ge("right-of")),this._engines.set("left-of",ge("left-of")),this._engines.set("above",ge("above")),this._engines.set("below",ge("below")),this._engines.set("near",ge("near")),this._engines.set("nth-match",ai);const t=[...this._engines.keys()];t.sort();const r=[...rr];if(r.sort(),t.join("|")!==r.join("|"))throw new Error(`Please keep customCSSNames in sync with evaluator engines: ${t.join("|")} vs ${r.join("|")}`)}begin(){++this._retainCacheCounter}end(){--this._retainCacheCounter,this._retainCacheCounter||(this._cacheQueryCSS.clear(),this._cacheMatches.clear(),this._cacheQuery.clear(),this._cacheMatchesSimple.clear(),this._cacheMatchesParents.clear(),this._cacheCallMatches.clear(),this._cacheCallQuery.clear(),this._cacheQuerySimple.clear(),this._cacheText.clear())}_cached(e,t,r,n){e.has(t)||e.set(t,[]);const i=e.get(t),o=i.find(a=>r.every((l,c)=>a.rest[c]===l));if(o)return o.result;const s=n();return i.push({rest:r,result:s}),s}_checkSelector(e){if(!(typeof e=="object"&&e&&(Array.isArray(e)||"simples"in e&&e.simples.length)))throw new Error(`Malformed selector "${e}"`);return e}matches(e,t,r){const n=this._checkSelector(t);this.begin();try{return this._cached(this._cacheMatches,e,[n,r.scope,r.pierceShadow,r.originalScope],()=>Array.isArray(n)?this._matchesEngine(pe,e,n,r):(this._hasScopeClause(n)&&(r=this._expandContextForScopeMatching(r)),this._matchesSimple(e,n.simples[n.simples.length-1].selector,r)?this._matchesParents(e,n,n.simples.length-2,r):!1))}finally{this.end()}}query(e,t){const r=this._checkSelector(t);this.begin();try{return this._cached(this._cacheQuery,r,[e.scope,e.pierceShadow,e.originalScope],()=>{if(Array.isArray(r))return this._queryEngine(pe,e,r);this._hasScopeClause(r)&&(e=this._expandContextForScopeMatching(e));const n=this._scoreMap;this._scoreMap=new Map;let i=this._querySimple(e,r.simples[r.simples.length-1].selector);return i=i.filter(o=>this._matchesParents(o,r,r.simples.length-2,e)),this._scoreMap.size&&i.sort((o,s)=>{const a=this._scoreMap.get(o),l=this._scoreMap.get(s);return a===l?0:a===void 0?1:l===void 0?-1:a-l}),this._scoreMap=n,i})}finally{this.end()}}_markScore(e,t){this._scoreMap&&this._scoreMap.set(e,t)}_hasScopeClause(e){return e.simples.some(t=>t.selector.functions.some(r=>r.name==="scope"))}_expandContextForScopeMatching(e){if(e.scope.nodeType!==1)return e;const t=k(e.scope);return t?{...e,scope:t,originalScope:e.originalScope||e.scope}:e}_matchesSimple(e,t,r){return this._cached(this._cacheMatchesSimple,e,[t,r.scope,r.pierceShadow,r.originalScope],()=>{if(e===r.scope||t.css&&!this._matchesCSS(e,t.css))return!1;for(const n of t.functions)if(!this._matchesEngine(this._getEngine(n.name),e,n.args,r))return!1;return!0})}_querySimple(e,t){return t.functions.length?this._cached(this._cacheQuerySimple,t,[e.scope,e.pierceShadow,e.originalScope],()=>{let r=t.css;const n=t.functions;r==="*"&&n.length&&(r=void 0);let i,o=-1;r!==void 0?i=this._queryCSS(e,r):(o=n.findIndex(s=>this._getEngine(s.name).query!==void 0),o===-1&&(o=0),i=this._queryEngine(this._getEngine(n[o].name),e,n[o].args));for(let s=0;s<n.length;s++){if(s===o)continue;const a=this._getEngine(n[s].name);a.matches!==void 0&&(i=i.filter(l=>this._matchesEngine(a,l,n[s].args,e)))}for(let s=0;s<n.length;s++){if(s===o)continue;const a=this._getEngine(n[s].name);a.matches===void 0&&(i=i.filter(l=>this._matchesEngine(a,l,n[s].args,e)))}return i}):this._queryCSS(e,t.css||"*")}_matchesParents(e,t,r,n){return r<0?!0:this._cached(this._cacheMatchesParents,e,[t,r,n.scope,n.pierceShadow,n.originalScope],()=>{const{selector:i,combinator:o}=t.simples[r];if(o===">"){const s=Me(e,n);return!s||!this._matchesSimple(s,i,n)?!1:this._matchesParents(s,t,r-1,n)}if(o==="+"){const s=Ge(e,n);return!s||!this._matchesSimple(s,i,n)?!1:this._matchesParents(s,t,r-1,n)}if(o===""){let s=Me(e,n);for(;s;){if(this._matchesSimple(s,i,n)){if(this._matchesParents(s,t,r-1,n))return!0;if(t.simples[r-1].combinator==="")break}s=Me(s,n)}return!1}if(o==="~"){let s=Ge(e,n);for(;s;){if(this._matchesSimple(s,i,n)){if(this._matchesParents(s,t,r-1,n))return!0;if(t.simples[r-1].combinator==="~")break}s=Ge(s,n)}return!1}if(o===">="){let s=e;for(;s;){if(this._matchesSimple(s,i,n)){if(this._matchesParents(s,t,r-1,n))return!0;if(t.simples[r-1].combinator==="")break}s=Me(s,n)}return!1}throw new Error(`Unsupported combinator "${o}"`)})}_matchesEngine(e,t,r,n){if(e.matches)return this._callMatches(e,t,r,n);if(e.query)return this._callQuery(e,r,n).includes(t);throw new Error('Selector engine should implement "matches" or "query"')}_queryEngine(e,t,r){if(e.query)return this._callQuery(e,r,t);if(e.matches)return this._queryCSS(t,"*").filter(n=>this._callMatches(e,n,r,t));throw new Error('Selector engine should implement "matches" or "query"')}_callMatches(e,t,r,n){return this._cached(this._cacheCallMatches,t,[e,n.scope,n.pierceShadow,n.originalScope,...r],()=>e.matches(t,r,n,this))}_callQuery(e,t,r){return this._cached(this._cacheCallQuery,e,[r.scope,r.pierceShadow,r.originalScope,...t],()=>e.query(r,t,this))}_matchesCSS(e,t){return e.matches(t)}_queryCSS(e,t){return this._cached(this._cacheQueryCSS,t,[e.scope,e.pierceShadow,e.originalScope],()=>{let r=[];function n(i){if(r=r.concat([...i.querySelectorAll(t)]),!!e.pierceShadow){i.shadowRoot&&n(i.shadowRoot);for(const o of i.querySelectorAll("*"))o.shadowRoot&&n(o.shadowRoot)}}return n(e.scope),r})}_getEngine(e){const t=this._engines.get(e);if(!t)throw new Error(`Unknown selector engine "${e}"`);return t}},pe={matches(e,t,r,n){if(t.length===0)throw new Error('"is" engine expects non-empty selector list');return t.some(i=>n.matches(e,i,r))},query(e,t,r){if(t.length===0)throw new Error('"is" engine expects non-empty selector list');let n=[];for(const i of t)n=n.concat(r.query(e,i));return t.length===1?n:mr(n)}},Yn={matches(e,t,r,n){if(t.length===0)throw new Error('"has" engine expects non-empty selector list');return n.query({...r,scope:e},t).length>0}},Zn={matches(e,t,r,n){if(t.length!==0)throw new Error('"scope" engine expects no arguments');const i=r.originalScope||r.scope;return i.nodeType===9?e===i.documentElement:e===i},query(e,t,r){if(t.length!==0)throw new Error('"scope" engine expects no arguments');const n=e.originalScope||e.scope;if(n.nodeType===9){const i=n.documentElement;return i?[i]:[]}return n.nodeType===1?[n]:[]}},ei={matches(e,t,r,n){if(t.length===0)throw new Error('"not" engine expects non-empty selector list');return!n.matches(e,t,r)}},ti={query(e,t,r){return r.query({...e,pierceShadow:!1},t)},matches(e,t,r,n){return n.matches(e,t,{...r,pierceShadow:!1})}},ri={matches(e,t,r,n){if(t.length)throw new Error('"visible" engine expects no arguments');return Ee(e)}},ni={matches(e,t,r,n){if(t.length!==1||typeof t[0]!="string")throw new Error('"text" engine expects a single string');const i=U(t[0]).toLowerCase(),o=s=>U(s.full).toLowerCase().includes(i);return ye(n._cacheText,e,o)==="self"}},ii={matches(e,t,r,n){if(t.length!==1||typeof t[0]!="string")throw new Error('"text-is" engine expects a single string');const i=U(t[0]),o=s=>!i&&!s.immediate.length?!0:s.immediate.some(a=>U(a)===i);return ye(n._cacheText,e,o)!=="none"}},si={matches(e,t,r,n){if(t.length===0||typeof t[0]!="string"||t.length>2||t.length===2&&typeof t[1]!="string")throw new Error('"text-matches" engine expects a regexp body and optional regexp flags');const i=new RegExp(t[0],t.length===2?t[1]:void 0),o=s=>i.test(s.full);return ye(n._cacheText,e,o)==="self"}},oi={matches(e,t,r,n){if(t.length!==1||typeof t[0]!="string")throw new Error('"has-text" engine expects a single string');if(Ue(e))return!1;const i=U(t[0]).toLowerCase();return(s=>U(s.full).toLowerCase().includes(i))(j(n._cacheText,e))}};function ge(e){return{matches(t,r,n,i){const o=r.length&&typeof r[r.length-1]=="number"?r[r.length-1]:void 0,s=o===void 0?r:r.slice(0,r.length-1);if(r.length<1+(o===void 0?0:1))throw new Error(`"${e}" engine expects a selector list and optional maximum distance in pixels`);const a=i.query(n,s),l=gr(e,t,a,o);return l===void 0?!1:(i._markScore(t,l),!0)}}}var ai={query(e,t,r){let n=t[t.length-1];if(t.length<2)throw new Error('"nth-match" engine expects non-empty selector list and an index argument');if(typeof n!="number"||n<1)throw new Error('"nth-match" engine expects a one-based index as the last argument');const i=pe.query(e,t.slice(0,t.length-1),r);return n--,n<i.length?[i[n]]:[]}};function Me(e,t){if(e!==t.scope)return t.pierceShadow?k(e):e.parentElement||void 0}function Ge(e,t){if(e!==t.scope)return e.previousElementSibling||void 0}function mr(e){const t=new Map,r=[],n=[];function i(s){let a=t.get(s);if(a)return a;const l=k(s);return l?i(l).children.push(s):r.push(s),a={children:[],taken:!1},t.set(s,a),a}for(const s of e)i(s).taken=!0;function o(s){const a=t.get(s);if(a.taken&&n.push(s),a.children.length>1){const l=new Set(a.children);a.children=[];let c=s.firstElementChild;for(;c&&a.children.length<l.size;)l.has(c)&&a.children.push(c),c=c.nextElementSibling;for(c=s.shadowRoot?s.shadowRoot.firstElementChild:null;c&&a.children.length<l.size;)l.has(c)&&a.children.push(c),c=c.nextElementSibling}a.children.forEach(o)}return r.forEach(o),n}var wr=new Map,br=new Map,vr=10,le=vr/2,Er=1,li=2,ci=10,ui=50,xr=100,Sr=120,Tr=140,yr=160,Je=180,_r=200,hi=250,fi=xr+le,di=Sr+le,pi=Tr+le,gi=yr+le,mi=Je+le,wi=_r+le,bi=300,vi=500,Ei=510,Xe=520,Nr=530,Ar=1e4,xi=1e7;function Si(e,t,r){var n;e._evaluator.begin(),Lt();try{t=J(t,"button,select,input,[role=button],[role=checkbox],[role=radio],a,[role=link]",r.root)||t;const i=Ti(e,t,r),o=Lr(i),s=e.parseSelector(o);return{selector:o,elements:e.querySelectorAll(s,(n=r.root)!=null?n:t.ownerDocument)}}finally{wr.clear(),br.clear(),$t(),e._evaluator.end()}}function kr(e){return e.filter(t=>t[0].selector[0]!=="/")}function Ti(e,t,r){if(r.root&&!A(r.root,t))throw new Error("Target element must belong to the root's subtree");if(t===r.root)return[{engine:"css",selector:":scope",score:1}];if(t.ownerDocument.documentElement===t)return[{engine:"css",selector:"html",score:1}];const n=(o,s)=>{var a;const l=o===t;let c=s?_i(e,o,o===t):[];o!==t&&(c=kr(c));const u=yi(e,o,r).filter(S=>!r.omitInternalEngines||!S.engine.startsWith("internal:")).map(S=>[S]);let h=$r(e,(a=r.root)!=null?a:t.ownerDocument,o,[...c,...u],l);c=kr(c);const g=S=>{const m=s&&!S.length,b=[...S,...u].filter(T=>h?te(T)<te(h):!0);let f=b[0];if(f)for(let T=k(o);T&&T!==r.root;T=k(T)){const _=i(T,m);if(!_||h&&te([..._,...f])>=te(h))continue;if(f=$r(e,T,o,b,l),!f)return;const I=[..._,...f];(!h||te(I)<te(h))&&(h=I)}};return g(c),o===t&&c.length&&g([]),h},i=(o,s)=>{const a=s?wr:br;let l=a.get(o);return l===void 0&&(l=n(o,s),a.set(o,l)),l};return i(t,!0)||Ni(e,t,r)}function yi(e,t,r){const n=[];{for(const a of["data-testid","data-test-id","data-test"])a!==r.testIdAttributeName&&t.getAttribute(a)&&n.push({engine:"css",selector:`[${a}=${me(t.getAttribute(a))}]`,score:li});const s=t.getAttribute("id");s&&!Ai(s)&&n.push({engine:"css",selector:Cr(s),score:vi}),n.push({engine:"css",selector:G(t.nodeName.toLowerCase()),score:Nr})}if(t.nodeName==="IFRAME"){for(const s of["name","title"])t.getAttribute(s)&&n.push({engine:"css",selector:`${G(t.nodeName.toLowerCase())}[${s}=${me(t.getAttribute(s))}]`,score:ci});return t.getAttribute(r.testIdAttributeName)&&n.push({engine:"css",selector:`[${r.testIdAttributeName}=${me(t.getAttribute(r.testIdAttributeName))}]`,score:Er}),ze([n]),n}if(t.getAttribute(r.testIdAttributeName)&&n.push({engine:"internal:testid",selector:`[${r.testIdAttributeName}=${K(t.getAttribute(r.testIdAttributeName),!0)}]`,score:Er}),t.nodeName==="INPUT"||t.nodeName==="TEXTAREA"){const s=t;s.placeholder&&(n.push({engine:"internal:attr",selector:`[placeholder=${K(s.placeholder,!1)}]`,score:xr}),n.push({engine:"internal:attr",selector:`[placeholder=${K(s.placeholder,!0)}]`,score:fi}))}const i=Ot(e._evaluator._cacheText,t);for(const s of i){const a=s.full.trim();n.push({engine:"internal:label",selector:Oe(a,!1),score:Sr}),n.push({engine:"internal:label",selector:Oe(a,!0),score:di})}const o=H(t);return o&&!["none","presentation"].includes(o)&&n.push({engine:"internal:role",selector:o,score:Ei}),t.getAttribute("alt")&&["APPLET","AREA","IMG","INPUT"].includes(t.nodeName)&&(n.push({engine:"internal:attr",selector:`[alt=${K(t.getAttribute("alt"),!1)}]`,score:yr}),n.push({engine:"internal:attr",selector:`[alt=${K(t.getAttribute("alt"),!0)}]`,score:gi})),t.getAttribute("name")&&["BUTTON","FORM","FIELDSET","FRAME","IFRAME","INPUT","KEYGEN","OBJECT","OUTPUT","SELECT","TEXTAREA","MAP","META","PARAM"].includes(t.nodeName)&&n.push({engine:"css",selector:`${G(t.nodeName.toLowerCase())}[name=${me(t.getAttribute("name"))}]`,score:Xe}),t.getAttribute("title")&&(n.push({engine:"internal:attr",selector:`[title=${K(t.getAttribute("title"),!1)}]`,score:_r}),n.push({engine:"internal:attr",selector:`[title=${K(t.getAttribute("title"),!0)}]`,score:wi})),["INPUT","TEXTAREA"].includes(t.nodeName)&&t.getAttribute("type")!=="hidden"&&t.getAttribute("type")&&n.push({engine:"css",selector:`${G(t.nodeName.toLowerCase())}[type=${me(t.getAttribute("type"))}]`,score:Xe}),["INPUT","TEXTAREA","SELECT"].includes(t.nodeName)&&t.getAttribute("type")!=="hidden"&&n.push({engine:"css",selector:G(t.nodeName.toLowerCase()),score:Xe+1}),ze([n]),n}function _i(e,t,r){if(t.nodeName==="SELECT")return[];const n=[],i=U(j(e._evaluator._cacheText,t).full),o=i.substring(0,80);if(o){const a=Oe(o,!1);r&&(n.push([{engine:"internal:text",selector:a,score:Je}]),n.push([{engine:"internal:text",selector:Oe(o,!0),score:mi}]));const l={engine:"css",selector:G(t.nodeName.toLowerCase()),score:Nr};n.push([l,{engine:"internal:has-text",selector:a,score:Je}]),i.length<=80&&n.push([l,{engine:"internal:has-text",selector:"/^"+ki(i)+"$/",score:hi}])}const s=H(t);if(s&&!["none","presentation"].includes(s)){const a=Fe(t,!1);a&&(n.push([{engine:"internal:role",selector:`${s}[name=${K(a,!1)}]`,score:Tr}]),n.push([{engine:"internal:role",selector:`${s}[name=${K(a,!0)}]`,score:pi}]))}return ze(n),n}function Cr(e){return/^[a-zA-Z][a-zA-Z0-9\-\_]+$/.test(e)?"#"+e:`[id="${G(e)}"]`}function Ni(e,t,r){var n;const i=(n=r.root)!=null?n:t.ownerDocument,o=[];function s(l){const c=o.slice();l&&c.unshift(l);const u=c.join(" > "),h=e.parseSelector(u);return e.querySelector(h,i,!1)===t?u:void 0}function a(l){const c={engine:"css",selector:l,score:xi},u=e.parseSelector(l),h=e.querySelectorAll(u,i);if(h.length===1)return[c];const g={engine:"nth",selector:String(h.indexOf(t)),score:Ar};return[c,g]}for(let l=t;l&&l!==i;l=k(l)){const c=l.nodeName.toLowerCase();let u="";if(l.id){const S=Cr(l.id),m=s(S);if(m)return a(m);u=S}const h=l.parentNode,g=[...l.classList];for(let S=0;S<g.length;++S){const m="."+G(g.slice(0,S+1).join(".")),b=s(m);if(b)return a(b);!u&&h&&h.querySelectorAll(m).length===1&&(u=m)}if(h){const S=[...h.children],b=S.filter(T=>T.nodeName.toLowerCase()===c).indexOf(l)===0?G(c):`${G(c)}:nth-child(${1+S.indexOf(l)})`,f=s(b);if(f)return a(f);u||(u=b)}else u||(u=G(c));o.unshift(u)}return a(s())}function me(e){return`"${G(e).replace(/\\ /g," ")}"`}function ze(e){for(const t of e)for(const r of t)r.score>ui&&r.score<bi&&(r.score+=Math.min(vr,r.selector.length/10|0))}function Lr(e){const t=[];let r="";for(const{engine:n,selector:i}of e)t.length&&(r!=="css"||n!=="css"||i.startsWith(":nth-match("))&&t.push(">>"),r=n,n==="css"?t.push(i):t.push(`${n}=${i}`);return t.join(" ")}function te(e){let t=0;for(let r=0;r<e.length;r++)t+=e[r].score*(e.length-r);return t}function $r(e,t,r,n,i){const o=n.map(a=>({tokens:a,score:te(a)}));o.sort((a,l)=>a.score-l.score);let s=null;for(const{tokens:a}of o){const l=e.parseSelector(Lr(a)),c=e.querySelectorAll(l,t);if(c[0]===r&&c.length===1)return a;const u=c.indexOf(r);if(!i||s||u===-1||c.length>5)continue;const h={engine:"nth",selector:String(u),score:Ar};s=[...a,h]}return s}function Ai(e){let t,r=0;for(let n=0;n<e.length;++n){const i=e[n];let o;if(!(i==="-"||i==="_")){if(i>="a"&&i<="z"?o="lower":i>="A"&&i<="Z"?o="upper":i>="0"&&i<="9"?o="digit":o="other",o==="lower"&&t==="upper"){t=o;continue}t&&t!==o&&++r,t=o}}return r>=e.length/4}function ki(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Qe(e,t,r=!1,n=!1){return Ci(e,t,r,n)[0]}function Ci(e,t,r=!1,n=!1,i=20){if(n)try{return re(Ir[e],Le(t),r,i)}catch{return[t]}else return re(Ir[e],Le(t),r,i)}function re(e,t,r=!1,n=20){const i=[...t.parts];for(let a=0;a<i.length-1;a++)if(i[a].name==="nth"&&i[a+1].name==="internal:control"&&i[a+1].body==="enter-frame"){const[l]=i.splice(a,1);i.splice(a+1,0,l)}const o=[];let s=r?"frame-locator":"page";for(let a=0;a<i.length;a++){const l=i[a],c=s;if(s="locator",l.name==="nth"){l.body==="0"?o.push([e.generateLocator(c,"first",""),e.generateLocator(c,"nth","0")]):l.body==="-1"?o.push([e.generateLocator(c,"last",""),e.generateLocator(c,"nth","-1")]):o.push([e.generateLocator(c,"nth",l.body)]);continue}if(l.name==="internal:text"){const{exact:m,text:b}=we(l.body);o.push([e.generateLocator(c,"text",b,{exact:m})]);continue}if(l.name==="internal:has-text"){const{exact:m,text:b}=we(l.body);if(!m){o.push([e.generateLocator(c,"has-text",b,{exact:m})]);continue}}if(l.name==="internal:has-not-text"){const{exact:m,text:b}=we(l.body);if(!m){o.push([e.generateLocator(c,"has-not-text",b,{exact:m})]);continue}}if(l.name==="internal:has"){const m=re(e,l.body.parsed,!1,n);o.push(m.map(b=>e.generateLocator(c,"has",b)));continue}if(l.name==="internal:has-not"){const m=re(e,l.body.parsed,!1,n);o.push(m.map(b=>e.generateLocator(c,"hasNot",b)));continue}if(l.name==="internal:and"){const m=re(e,l.body.parsed,!1,n);o.push(m.map(b=>e.generateLocator(c,"and",b)));continue}if(l.name==="internal:or"){const m=re(e,l.body.parsed,!1,n);o.push(m.map(b=>e.generateLocator(c,"or",b)));continue}if(l.name==="internal:chain"){const m=re(e,l.body.parsed,!1,n);o.push(m.map(b=>e.generateLocator(c,"chain",b)));continue}if(l.name==="internal:label"){const{exact:m,text:b}=we(l.body);o.push([e.generateLocator(c,"label",b,{exact:m})]);continue}if(l.name==="internal:role"){const m=ee(l.body,!0),b={attrs:[]};for(const f of m.attributes)f.name==="name"?(b.exact=f.caseSensitive,b.name=f.value):(f.name==="level"&&typeof f.value=="string"&&(f.value=+f.value),b.attrs.push({name:f.name==="include-hidden"?"includeHidden":f.name,value:f.value}));o.push([e.generateLocator(c,"role",m.name,b)]);continue}if(l.name==="internal:testid"){const m=ee(l.body,!0),{value:b}=m.attributes[0];o.push([e.generateLocator(c,"test-id",b)]);continue}if(l.name==="internal:attr"){const m=ee(l.body,!0),{name:b,value:f,caseSensitive:T}=m.attributes[0],_=f,I=!!T;if(b==="placeholder"){o.push([e.generateLocator(c,"placeholder",_,{exact:I})]);continue}if(b==="alt"){o.push([e.generateLocator(c,"alt",_,{exact:I})]);continue}if(b==="title"){o.push([e.generateLocator(c,"title",_,{exact:I})]);continue}}let u="default";const h=i[a+1];h&&h.name==="internal:control"&&h.body==="enter-frame"&&(u="frame",s="frame-locator",a++);const g=se({parts:[l]}),S=e.generateLocator(c,u,g);if(u==="default"&&h&&["internal:has-text","internal:has-not-text"].includes(h.name)){const{exact:m,text:b}=we(h.body);if(!m){const f=e.generateLocator("locator",h.name==="internal:has-text"?"has-text":"has-not-text",b,{exact:m}),T={};h.name==="internal:has-text"?T.hasText=b:T.hasNotText=b;const _=e.generateLocator(c,"default",g,T);o.push([e.chainLocators([S,f]),_]),a++;continue}}o.push([S])}return Li(e,o,n)}function Li(e,t,r){const n=t.map(()=>""),i=[],o=s=>{if(s===t.length)return i.push(e.chainLocators(n)),n.length<r;for(const a of t[s])if(n[s]=a,!o(s+1))return!1;return!0};return o(0),i}function we(e){let t=!1;const r=e.match(/^\/(.*)\/([igm]*)$/);return r?{text:new RegExp(r[1],r[2])}:(e.endsWith('"')?(e=JSON.parse(e),t=!0):e.endsWith('"s')?(e=JSON.parse(e.substring(0,e.length-1)),t=!0):e.endsWith('"i')&&(e=JSON.parse(e.substring(0,e.length-1)),t=!1),{exact:t,text:e})}var $i=class{generateLocator(e,t,r,n={}){switch(t){case"default":return n.hasText!==void 0?`locator(${this.quote(r)}, { hasText: ${this.toHasText(n.hasText)} })`:n.hasNotText!==void 0?`locator(${this.quote(r)}, { hasNotText: ${this.toHasText(n.hasNotText)} })`:`locator(${this.quote(r)})`;case"frame":return`frameLocator(${this.quote(r)})`;case"nth":return`nth(${r})`;case"first":return"first()";case"last":return"last()";case"role":const i=[];O(n.name)?i.push(`name: ${this.regexToSourceString(n.name)}`):typeof n.name=="string"&&(i.push(`name: ${this.quote(n.name)}`),n.exact&&i.push("exact: true"));for(const{name:s,value:a}of n.attrs)i.push(`${s}: ${typeof a=="string"?this.quote(a):a}`);const o=i.length?`, { ${i.join(", ")} }`:"";return`getByRole(${this.quote(r)}${o})`;case"has-text":return`filter({ hasText: ${this.toHasText(r)} })`;case"has-not-text":return`filter({ hasNotText: ${this.toHasText(r)} })`;case"has":return`filter({ has: ${r} })`;case"hasNot":return`filter({ hasNot: ${r} })`;case"and":return`and(${r})`;case"or":return`or(${r})`;case"chain":return`locator(${r})`;case"test-id":return`getByTestId(${this.toTestIdValue(r)})`;case"text":return this.toCallWithExact("getByText",r,!!n.exact);case"alt":return this.toCallWithExact("getByAltText",r,!!n.exact);case"placeholder":return this.toCallWithExact("getByPlaceholder",r,!!n.exact);case"label":return this.toCallWithExact("getByLabel",r,!!n.exact);case"title":return this.toCallWithExact("getByTitle",r,!!n.exact);default:throw new Error("Unknown selector kind "+t)}}chainLocators(e){return e.join(".")}regexToSourceString(e){return Re(String(e))}toCallWithExact(e,t,r){return O(t)?`${e}(${this.regexToSourceString(t)})`:r?`${e}(${this.quote(t)}, { exact: true })`:`${e}(${this.quote(t)})`}toHasText(e){return O(e)?this.regexToSourceString(e):this.quote(e)}toTestIdValue(e){return O(e)?this.regexToSourceString(e):this.quote(e)}quote(e){return $e(e,"'")}},Ii=class{generateLocator(e,t,r,n={}){switch(t){case"default":return n.hasText!==void 0?`locator(${this.quote(r)}, has_text=${this.toHasText(n.hasText)})`:n.hasNotText!==void 0?`locator(${this.quote(r)}, has_not_text=${this.toHasText(n.hasNotText)})`:`locator(${this.quote(r)})`;case"frame":return`frame_locator(${this.quote(r)})`;case"nth":return`nth(${r})`;case"first":return"first";case"last":return"last";case"role":const i=[];O(n.name)?i.push(`name=${this.regexToString(n.name)}`):typeof n.name=="string"&&(i.push(`name=${this.quote(n.name)}`),n.exact&&i.push("exact=True"));for(const{name:s,value:a}of n.attrs){let l=typeof a=="string"?this.quote(a):a;typeof a=="boolean"&&(l=a?"True":"False"),i.push(`${hr(s)}=${l}`)}const o=i.length?`, ${i.join(", ")}`:"";return`get_by_role(${this.quote(r)}${o})`;case"has-text":return`filter(has_text=${this.toHasText(r)})`;case"has-not-text":return`filter(has_not_text=${this.toHasText(r)})`;case"has":return`filter(has=${r})`;case"hasNot":return`filter(has_not=${r})`;case"and":return`and_(${r})`;case"or":return`or_(${r})`;case"chain":return`locator(${r})`;case"test-id":return`get_by_test_id(${this.toTestIdValue(r)})`;case"text":return this.toCallWithExact("get_by_text",r,!!n.exact);case"alt":return this.toCallWithExact("get_by_alt_text",r,!!n.exact);case"placeholder":return this.toCallWithExact("get_by_placeholder",r,!!n.exact);case"label":return this.toCallWithExact("get_by_label",r,!!n.exact);case"title":return this.toCallWithExact("get_by_title",r,!!n.exact);default:throw new Error("Unknown selector kind "+t)}}chainLocators(e){return e.join(".")}regexToString(e){const t=e.flags.includes("i")?", re.IGNORECASE":"";return`re.compile(r"${Re(e.source).replace(/\\\//,"/").replace(/"/g,'\\"')}"${t})`}toCallWithExact(e,t,r){return O(t)?`${e}(${this.regexToString(t)})`:r?`${e}(${this.quote(t)}, exact=True)`:`${e}(${this.quote(t)})`}toHasText(e){return O(e)?this.regexToString(e):`${this.quote(e)}`}toTestIdValue(e){return O(e)?this.regexToString(e):this.quote(e)}quote(e){return $e(e,'"')}},Ri=class{generateLocator(e,t,r,n={}){let i;switch(e){case"page":i="Page";break;case"frame-locator":i="FrameLocator";break;case"locator":i="Locator";break}switch(t){case"default":return n.hasText!==void 0?`locator(${this.quote(r)}, new ${i}.LocatorOptions().setHasText(${this.toHasText(n.hasText)}))`:n.hasNotText!==void 0?`locator(${this.quote(r)}, new ${i}.LocatorOptions().setHasNotText(${this.toHasText(n.hasNotText)}))`:`locator(${this.quote(r)})`;case"frame":return`frameLocator(${this.quote(r)})`;case"nth":return`nth(${r})`;case"first":return"first()";case"last":return"last()";case"role":const o=[];O(n.name)?o.push(`.setName(${this.regexToString(n.name)})`):typeof n.name=="string"&&(o.push(`.setName(${this.quote(n.name)})`),n.exact&&o.push(".setExact(true)"));for(const{name:a,value:l}of n.attrs)o.push(`.set${Ie(a)}(${typeof l=="string"?this.quote(l):l})`);const s=o.length?`, new ${i}.GetByRoleOptions()${o.join("")}`:"";return`getByRole(AriaRole.${hr(r).toUpperCase()}${s})`;case"has-text":return`filter(new ${i}.FilterOptions().setHasText(${this.toHasText(r)}))`;case"has-not-text":return`filter(new ${i}.FilterOptions().setHasNotText(${this.toHasText(r)}))`;case"has":return`filter(new ${i}.FilterOptions().setHas(${r}))`;case"hasNot":return`filter(new ${i}.FilterOptions().setHasNot(${r}))`;case"and":return`and(${r})`;case"or":return`or(${r})`;case"chain":return`locator(${r})`;case"test-id":return`getByTestId(${this.toTestIdValue(r)})`;case"text":return this.toCallWithExact(i,"getByText",r,!!n.exact);case"alt":return this.toCallWithExact(i,"getByAltText",r,!!n.exact);case"placeholder":return this.toCallWithExact(i,"getByPlaceholder",r,!!n.exact);case"label":return this.toCallWithExact(i,"getByLabel",r,!!n.exact);case"title":return this.toCallWithExact(i,"getByTitle",r,!!n.exact);default:throw new Error("Unknown selector kind "+t)}}chainLocators(e){return e.join(".")}regexToString(e){const t=e.flags.includes("i")?", Pattern.CASE_INSENSITIVE":"";return`Pattern.compile(${this.quote(Re(e.source))}${t})`}toCallWithExact(e,t,r,n){return O(r)?`${t}(${this.regexToString(r)})`:n?`${t}(${this.quote(r)}, new ${e}.${Ie(t)}Options().setExact(true))`:`${t}(${this.quote(r)})`}toHasText(e){return O(e)?this.regexToString(e):this.quote(e)}toTestIdValue(e){return O(e)?this.regexToString(e):this.quote(e)}quote(e){return $e(e,'"')}},Oi=class{generateLocator(e,t,r,n={}){switch(t){case"default":return n.hasText!==void 0?`Locator(${this.quote(r)}, new() { ${this.toHasText(n.hasText)} })`:n.hasNotText!==void 0?`Locator(${this.quote(r)}, new() { ${this.toHasNotText(n.hasNotText)} })`:`Locator(${this.quote(r)})`;case"frame":return`FrameLocator(${this.quote(r)})`;case"nth":return`Nth(${r})`;case"first":return"First";case"last":return"Last";case"role":const i=[];O(n.name)?i.push(`NameRegex = ${this.regexToString(n.name)}`):typeof n.name=="string"&&(i.push(`Name = ${this.quote(n.name)}`),n.exact&&i.push("Exact = true"));for(const{name:s,value:a}of n.attrs)i.push(`${Ie(s)} = ${typeof a=="string"?this.quote(a):a}`);const o=i.length?`, new() { ${i.join(", ")} }`:"";return`GetByRole(AriaRole.${Ie(r)}${o})`;case"has-text":return`Filter(new() { ${this.toHasText(r)} })`;case"has-not-text":return`Filter(new() { ${this.toHasNotText(r)} })`;case"has":return`Filter(new() { Has = ${r} })`;case"hasNot":return`Filter(new() { HasNot = ${r} })`;case"and":return`And(${r})`;case"or":return`Or(${r})`;case"chain":return`Locator(${r})`;case"test-id":return`GetByTestId(${this.toTestIdValue(r)})`;case"text":return this.toCallWithExact("GetByText",r,!!n.exact);case"alt":return this.toCallWithExact("GetByAltText",r,!!n.exact);case"placeholder":return this.toCallWithExact("GetByPlaceholder",r,!!n.exact);case"label":return this.toCallWithExact("GetByLabel",r,!!n.exact);case"title":return this.toCallWithExact("GetByTitle",r,!!n.exact);default:throw new Error("Unknown selector kind "+t)}}chainLocators(e){return e.join(".")}regexToString(e){const t=e.flags.includes("i")?", RegexOptions.IgnoreCase":"";return`new Regex(${this.quote(Re(e.source))}${t})`}toCallWithExact(e,t,r){return O(t)?`${e}(${this.regexToString(t)})`:r?`${e}(${this.quote(t)}, new() { Exact = true })`:`${e}(${this.quote(t)})`}toHasText(e){return O(e)?`HasTextRegex = ${this.regexToString(e)}`:`HasText = ${this.quote(e)}`}toTestIdValue(e){return O(e)?this.regexToString(e):this.quote(e)}toHasNotText(e){return O(e)?`HasNotTextRegex = ${this.regexToString(e)}`:`HasNotText = ${this.quote(e)}`}quote(e){return $e(e,'"')}},Mi=class{generateLocator(e,t,r,n={}){return JSON.stringify({kind:t,body:r,options:n})}chainLocators(e){const t=e.map(r=>JSON.parse(r));for(let r=0;r<t.length-1;++r)t[r].next=t[r+1];return JSON.stringify(t[0])}},Ir={javascript:new $i,python:new Ii,java:new Ri,csharp:new Oi,jsonl:new Mi};function O(e){return e instanceof RegExp}var Rr=class{constructor(e){this._highlightEntries=[],this._language="javascript",this._injectedScript=e;const t=e.document;this._isUnderTest=e.isUnderTest,this._glassPaneElement=t.createElement("x-pw-glass"),this._glassPaneElement.style.position="fixed",this._glassPaneElement.style.top="0",this._glassPaneElement.style.right="0",this._glassPaneElement.style.bottom="0",this._glassPaneElement.style.left="0",this._glassPaneElement.style.zIndex="2147483647",this._glassPaneElement.style.pointerEvents="none",this._glassPaneElement.style.display="flex",this._glassPaneElement.style.backgroundColor="transparent",this._actionPointElement=t.createElement("x-pw-action-point"),this._actionPointElement.setAttribute("hidden","true"),this._glassPaneShadow=this._glassPaneElement.attachShadow({mode:this._isUnderTest?"open":"closed"}),this._glassPaneShadow.appendChild(this._actionPointElement);const r=t.createElement("style");r.textContent=`
            x-pw-tooltip {
              align-items: center;
              backdrop-filter: blur(5px);
              background-color: rgba(0, 0, 0, 0.7);
              border-radius: 2px;
              box-shadow: rgba(0, 0, 0, 0.1) 0px 3.6px 3.7px,
                          rgba(0, 0, 0, 0.15) 0px 12.1px 12.3px,
                          rgba(0, 0, 0, 0.1) 0px -2px 4px,
                          rgba(0, 0, 0, 0.15) 0px -12.1px 24px,
                          rgba(0, 0, 0, 0.25) 0px 54px 55px;
              color: rgb(204, 204, 204);
              display: none;
              font-family: 'Dank Mono', 'Operator Mono', Inconsolata, 'Fira Mono',
                          'SF Mono', Monaco, 'Droid Sans Mono', 'Source Code Pro', monospace;
              font-size: 12.8px;
              font-weight: normal;
              left: 0;
              line-height: 1.5;
              max-width: 600px;
              padding: 3.2px 5.12px 3.2px;
              position: absolute;
              top: 0;
            }
            x-pw-action-point {
              position: absolute;
              width: 20px;
              height: 20px;
              background: red;
              border-radius: 10px;
              pointer-events: none;
              margin: -10px 0 0 -10px;
              z-index: 2;
            }
            *[hidden] {
              display: none !important;
            }
        `,this._glassPaneShadow.appendChild(r)}install(){this._injectedScript.document.documentElement.appendChild(this._glassPaneElement)}setLanguage(e){this._language=e}runHighlightOnRaf(e){this._rafRequest&&cancelAnimationFrame(this._rafRequest),this.updateHighlight(this._injectedScript.querySelectorAll(e,this._injectedScript.document.documentElement),se(e),!1),this._rafRequest=requestAnimationFrame(()=>this.runHighlightOnRaf(e))}uninstall(){this._rafRequest&&cancelAnimationFrame(this._rafRequest),this._glassPaneElement.remove()}isInstalled(){return this._glassPaneElement.parentElement===this._injectedScript.document.documentElement&&!this._glassPaneElement.nextElementSibling}showActionPoint(e,t){this._actionPointElement.style.top=t+"px",this._actionPointElement.style.left=e+"px",this._actionPointElement.hidden=!1,this._isUnderTest&&console.error("Action point for test: "+JSON.stringify({x:e,y:t}))}hideActionPoint(){this._actionPointElement.hidden=!0}clearHighlight(){var e,t;for(const r of this._highlightEntries)(e=r.highlightElement)==null||e.remove(),(t=r.tooltipElement)==null||t.remove();this._highlightEntries=[]}updateHighlight(e,t,r){let n;r?n="#dc6f6f7f":n=e.length>1?"#f6b26b7f":"#6fa8dc7f",this._innerUpdateHighlight(e,{color:n,tooltipText:t?Qe(this._language,t):""})}maskElements(e,t){this._innerUpdateHighlight(e,{color:t||"#F0F"})}_innerUpdateHighlight(e,t){if(!this._highlightIsUpToDate(e,t.tooltipText)){this.clearHighlight();for(let r=0;r<e.length;++r){const n=this._createHighlightElement();this._glassPaneShadow.appendChild(n);let i;if(t.tooltipText){i=this._injectedScript.document.createElement("x-pw-tooltip"),this._glassPaneShadow.appendChild(i);const o=e.length>1?` [${r+1} of ${e.length}]`:"";i.textContent=t.tooltipText+o,i.style.top="0",i.style.left="0",i.style.display="flex"}this._highlightEntries.push({targetElement:e[r],tooltipElement:i,highlightElement:n,tooltipText:t.tooltipText})}for(const r of this._highlightEntries){if(r.box=r.targetElement.getBoundingClientRect(),!r.tooltipElement)continue;const n=r.tooltipElement.offsetWidth,i=r.tooltipElement.offsetHeight,o=this._glassPaneElement.offsetWidth,s=this._glassPaneElement.offsetHeight;let a=r.box.left;a+n>o-5&&(a=o-n-5);let l=r.box.bottom+5;l+i>s-5&&(r.box.top>i+5?l=r.box.top-i-5:l=s-5-i),r.tooltipTop=l,r.tooltipLeft=a}for(const r of this._highlightEntries){r.tooltipElement&&(r.tooltipElement.style.top=r.tooltipTop+"px",r.tooltipElement.style.left=r.tooltipLeft+"px");const n=r.box;r.highlightElement.style.backgroundColor=t.color,r.highlightElement.style.left=n.x+"px",r.highlightElement.style.top=n.y+"px",r.highlightElement.style.width=n.width+"px",r.highlightElement.style.height=n.height+"px",r.highlightElement.style.display="block",this._isUnderTest&&console.error("Highlight box for test: "+JSON.stringify({x:n.x,y:n.y,width:n.width,height:n.height}))}}}_highlightIsUpToDate(e,t){if(e.length!==this._highlightEntries.length)return!1;for(let r=0;r<this._highlightEntries.length;++r){if(t!==this._highlightEntries[r].tooltipText||e[r]!==this._highlightEntries[r].targetElement)return!1;const n=this._highlightEntries[r].box;if(!n)return!1;const i=e[r].getBoundingClientRect();if(i.top!==n.top||i.right!==n.right||i.bottom!==n.bottom||i.left!==n.left)return!1}return!0}_createHighlightElement(){const e=this._injectedScript.document.createElement("x-pw-highlight");return e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.width="0",e.style.height="0",e.style.boxSizing="border-box",e}},qi=class{constructor(e,t,r,n,i,o,s){this.onGlobalListenersRemoved=new Set,this._testIdAttributeNameForStrictErrorAndConsoleCodegen="data-testid",this.window=e,this.document=e.document,this.isUnderTest=t,this._sdkLanguage=r,this._testIdAttributeNameForStrictErrorAndConsoleCodegen=n,this._evaluator=new Kn(new Map),this._engines=new Map,this._engines.set("xpath",R),this._engines.set("xpath:light",R),this._engines.set("_react",qn),this._engines.set("_vue",Un),this._engines.set("role",pr(!1)),this._engines.set("text",this._createTextEngine(!0,!1)),this._engines.set("text:light",this._createTextEngine(!1,!1)),this._engines.set("id",this._createAttributeEngine("id",!0)),this._engines.set("id:light",this._createAttributeEngine("id",!1)),this._engines.set("data-testid",this._createAttributeEngine("data-testid",!0)),this._engines.set("data-testid:light",this._createAttributeEngine("data-testid",!1)),this._engines.set("data-test-id",this._createAttributeEngine("data-test-id",!0)),this._engines.set("data-test-id:light",this._createAttributeEngine("data-test-id",!1)),this._engines.set("data-test",this._createAttributeEngine("data-test",!0)),this._engines.set("data-test:light",this._createAttributeEngine("data-test",!1)),this._engines.set("css",this._createCSSEngine()),this._engines.set("nth",{queryAll:()=>[]}),this._engines.set("visible",this._createVisibleEngine()),this._engines.set("internal:control",this._createControlEngine()),this._engines.set("internal:has",this._createHasEngine()),this._engines.set("internal:has-not",this._createHasNotEngine()),this._engines.set("internal:and",{queryAll:()=>[]}),this._engines.set("internal:or",{queryAll:()=>[]}),this._engines.set("internal:chain",this._createInternalChainEngine()),this._engines.set("internal:label",this._createInternalLabelEngine()),this._engines.set("internal:text",this._createTextEngine(!0,!0)),this._engines.set("internal:has-text",this._createInternalHasTextEngine()),this._engines.set("internal:has-not-text",this._createInternalHasNotTextEngine()),this._engines.set("internal:attr",this._createNamedAttributeEngine()),this._engines.set("internal:testid",this._createNamedAttributeEngine()),this._engines.set("internal:role",pr(!0));for(const{name:a,engine:l}of s)this._engines.set(a,l);this._stableRafCount=i,this._browserName=o,this._setupGlobalListenersRemovalDetection(),this._setupHitTargetInterceptors(),t&&(this.window.__injectedScript=this)}eval(e){return this.window.eval(e)}testIdAttributeNameForStrictErrorAndConsoleCodegen(){return this._testIdAttributeNameForStrictErrorAndConsoleCodegen}parseSelector(e){const t=Le(e);return Ln(t,r=>{if(!this._engines.has(r.name))throw this.createStacklessError(`Unknown engine "${r.name}" while parsing selector ${e}`)}),t}generateSelector(e,t){return Si(this,e,{...t,testIdAttributeName:this._testIdAttributeNameForStrictErrorAndConsoleCodegen}).selector}querySelector(e,t,r){const n=this.querySelectorAll(e,t);if(r&&n.length>1)throw this.strictModeViolationError(e,n);return n[0]}_queryNth(e,t){const r=[...e];let n=+t.body;return n===-1&&(n=r.length-1),new Set(r.slice(n,n+1))}_queryLayoutSelector(e,t,r){const n=t.name,i=t.body,o=[],s=this.querySelectorAll(i.parsed,r);for(const a of e){const l=gr(n,a,s,i.distance);l!==void 0&&o.push({element:a,score:l})}return o.sort((a,l)=>a.score-l.score),new Set(o.map(a=>a.element))}querySelectorAll(e,t){if(e.capture!==void 0){if(e.parts.some(n=>n.name==="nth"))throw this.createStacklessError("Can't query n-th element in a request with the capture.");const r={parts:e.parts.slice(0,e.capture+1)};if(e.capture<e.parts.length-1){const n={parts:e.parts.slice(e.capture+1)},i={name:"internal:has",body:{parsed:n},source:se(n)};r.parts.push(i)}return this.querySelectorAll(r,t)}if(!t.querySelectorAll)throw this.createStacklessError("Node is not queryable.");if(e.capture!==void 0)throw this.createStacklessError("Internal error: there should not be a capture in the selector.");if(t.nodeType===11&&e.parts.length===1&&e.parts[0].name==="css"&&e.parts[0].source===":scope")return[t];this._evaluator.begin();try{let r=new Set([t]);for(const n of e.parts)if(n.name==="nth")r=this._queryNth(r,n);else if(n.name==="internal:and"){const i=this.querySelectorAll(n.body.parsed,t);r=new Set(i.filter(o=>r.has(o)))}else if(n.name==="internal:or"){const i=this.querySelectorAll(n.body.parsed,t);r=new Set(mr(new Set([...r,...i])))}else if(Qn.includes(n.name))r=this._queryLayoutSelector(r,n,t);else{const i=new Set;for(const o of r){const s=this._queryEngineAll(n,o);for(const a of s)i.add(a)}r=i}return[...r]}finally{this._evaluator.end()}}_queryEngineAll(e,t){const r=this._engines.get(e.name).queryAll(t,e.body);for(const n of r)if(!("nodeName"in n))throw this.createStacklessError(`Expected a Node but got ${Object.prototype.toString.call(n)}`);return r}_createAttributeEngine(e,t){const r=n=>[{simples:[{selector:{css:`[${e}=${JSON.stringify(n)}]`,functions:[]},combinator:""}]}];return{queryAll:(n,i)=>this._evaluator.query({scope:n,pierceShadow:t},r(i))}}_createCSSEngine(){return{queryAll:(e,t)=>this._evaluator.query({scope:e,pierceShadow:!0},t)}}_createTextEngine(e,t){return{queryAll:(n,i)=>{const{matcher:o,kind:s}=Pe(i,t),a=[];let l=null;const c=h=>{if(s==="lax"&&l&&l.contains(h))return!1;const g=ye(this._evaluator._cacheText,h,o);g==="none"&&(l=h),(g==="self"||g==="selfAndChildren"&&s==="strict"&&!t)&&a.push(h)};n.nodeType===Node.ELEMENT_NODE&&c(n);const u=this._evaluator._queryCSS({scope:n,pierceShadow:e},"*");for(const h of u)c(h);return a}}}_createInternalHasTextEngine(){return{queryAll:(e,t)=>{if(e.nodeType!==1)return[];const r=e,n=j(this._evaluator._cacheText,r),{matcher:i}=Pe(t,!0);return i(n)?[r]:[]}}}_createInternalHasNotTextEngine(){return{queryAll:(e,t)=>{if(e.nodeType!==1)return[];const r=e,n=j(this._evaluator._cacheText,r),{matcher:i}=Pe(t,!0);return i(n)?[]:[r]}}}_createInternalLabelEngine(){return{queryAll:(e,t)=>{const{matcher:r}=Pe(t,!0);return this._evaluator._queryCSS({scope:e,pierceShadow:!0},"*").filter(i=>Ot(this._evaluator._cacheText,i).some(o=>r(o)))}}}_createNamedAttributeEngine(){return{queryAll:(t,r)=>{const n=ee(r,!0);if(n.name||n.attributes.length!==1)throw new Error("Malformed attribute selector: "+r);const{name:i,value:o,caseSensitive:s}=n.attributes[0],a=s?null:o.toLowerCase();let l;return o instanceof RegExp?l=u=>!!u.match(o):s?l=u=>u===o:l=u=>u.toLowerCase().includes(a),this._evaluator._queryCSS({scope:t,pierceShadow:!0},`[${i}]`).filter(u=>l(u.getAttribute(i)))}}}_createControlEngine(){return{queryAll(e,t){if(t==="enter-frame")return[];if(t==="return-empty")return[];if(t==="component")return e.nodeType!==1?[]:[e.childElementCount===1?e.firstElementChild:e];throw new Error(`Internal error, unknown internal:control selector ${t}`)}}}_createHasEngine(){return{queryAll:(t,r)=>t.nodeType!==1?[]:!!this.querySelector(r.parsed,t,!1)?[t]:[]}}_createHasNotEngine(){return{queryAll:(t,r)=>t.nodeType!==1?[]:!!this.querySelector(r.parsed,t,!1)?[]:[t]}}_createVisibleEngine(){return{queryAll:(t,r)=>t.nodeType!==1?[]:Ee(t)===!!r?[t]:[]}}_createInternalChainEngine(){return{queryAll:(t,r)=>this.querySelectorAll(r.parsed,t)}}extend(e,t){const r=this.window.eval(`
        (() => {
          const module = {};
          ${e}
          return module.exports.default();
        })()`);return new r(this,t)}isVisible(e){return Ee(e)}async viewportRatio(e){return await new Promise(t=>{const r=new IntersectionObserver(n=>{t(n[0].intersectionRatio),r.disconnect()});r.observe(e),requestAnimationFrame(()=>{})})}pollRaf(e){return this.poll(e,t=>requestAnimationFrame(t))}poll(e,t){return this._runAbortableTask(r=>{let n,i;const o=new Promise((a,l)=>{n=a,i=l}),s=()=>{if(!r.aborted)try{const a=e(r);a!==r.continuePolling?n(a):t(s)}catch(a){r.log("  "+a.message),i(a)}};return s(),o})}_runAbortableTask(e){let t=[],r,n=!1;const i=()=>{r&&(r(t),t=[],r=void 0)},o=()=>new Promise(c=>{r=c,(t.length||n)&&i()});let s="";const a={injectedScript:this,aborted:!1,continuePolling:Symbol("continuePolling"),log:c=>{s=c,t.push({message:c}),i()},logRepeating:c=>{c!==s&&a.log(c)}};return{takeNextLogs:o,run:()=>{const c=e(a);return c.finally(()=>{n=!0,i()}),c},cancel:()=>{a.aborted=!0},takeLastLogs:()=>t}}getElementBorderWidth(e){if(e.nodeType!==Node.ELEMENT_NODE||!e.ownerDocument||!e.ownerDocument.defaultView)return{left:0,top:0};const t=e.ownerDocument.defaultView.getComputedStyle(e);return{left:parseInt(t.borderLeftWidth||"",10),top:parseInt(t.borderTopWidth||"",10)}}describeIFrameStyle(e){if(!e.ownerDocument||!e.ownerDocument.defaultView)return"error:notconnected";const t=e.ownerDocument.defaultView;for(let n=e;n;n=k(n))if(t.getComputedStyle(n).transform!=="none")return"transformed";const r=t.getComputedStyle(e);return{left:parseInt(r.borderLeftWidth||"",10)+parseInt(r.paddingLeft||"",10),top:parseInt(r.borderTopWidth||"",10)+parseInt(r.paddingTop||"",10)}}retarget(e,t){let r=e.nodeType===Node.ELEMENT_NODE?e:e.parentElement;return r?(t==="none"||(r.matches("input, textarea, select")||(t==="button-link"?r=r.closest("button, [role=button], a, [role=link]")||r:r=r.closest("button, [role=button], [role=checkbox], [role=radio]")||r),t==="follow-label"&&(!r.matches("input, textarea, button, select, [role=button], [role=checkbox], [role=radio]")&&!r.isContentEditable&&(r=r.closest("label")||r),r.nodeName==="LABEL"&&(r=r.control||r))),r):null}waitForElementStatesAndPerformAction(e,t,r,n){let i,o=0,s=0,a=0;return this.pollRaf(l=>{if(r)return l.log("    forcing action"),n(e,l);for(const c of t){if(c!=="stable"){const T=this.elementState(e,c);if(typeof T!="boolean")return T;if(!T)return l.logRepeating(`    element is not ${c} - waiting...`),l.continuePolling;continue}const u=this.retarget(e,"no-follow-label");if(!u)return"error:notconnected";if(++o===1)return l.continuePolling;const h=performance.now();if(this._stableRafCount>1&&h-a<15)return l.continuePolling;a=h;const g=u.getBoundingClientRect(),S={x:g.top,y:g.left,width:g.width,height:g.height};i&&S.x===i.x&&S.y===i.y&&S.width===i.width&&S.height===i.height?++s:s=0;const b=s>=this._stableRafCount,f=b||!i;if(i=S,f||l.logRepeating("    element is not stable - waiting..."),!b)return l.continuePolling}return n(e,l)})}elementState(e,t){const r=this.retarget(e,["stable","visible","hidden"].includes(t)?"none":"follow-label");if(!r||!r.isConnected)return t==="hidden"?!0:"error:notconnected";if(t==="visible")return this.isVisible(r);if(t==="hidden")return!this.isVisible(r);const n=Nt(r);if(t==="disabled")return n;if(t==="enabled")return!n;const i=!(["INPUT","TEXTAREA","SELECT"].includes(r.nodeName)&&r.hasAttribute("readonly"));if(t==="editable")return!n&&i;if(t==="checked"||t==="unchecked"){const o=t==="checked",s=St(r,!1);if(s==="error")throw this.createStacklessError("Not a checkbox or radio button");return o===s}throw this.createStacklessError(`Unexpected element state "${t}"`)}selectOptions(e,t,r){const n=this.retarget(t,"follow-label");if(!n)return"error:notconnected";if(n.nodeName.toLowerCase()!=="select")throw this.createStacklessError("Element is not a <select> element");const i=n,o=[...i.options],s=[];let a=e.slice();for(let l=0;l<o.length;l++){const c=o[l],u=h=>{if(h instanceof Node)return c===h;let g=!0;return h.valueOrLabel!==void 0&&(g=g&&(h.valueOrLabel===c.value||h.valueOrLabel===c.label)),h.value!==void 0&&(g=g&&h.value===c.value),h.label!==void 0&&(g=g&&h.label===c.label),h.index!==void 0&&(g=g&&h.index===l),g};if(a.some(u))if(s.push(c),i.multiple)a=a.filter(h=>!u(h));else{a=[];break}}return a.length?(r.logRepeating("    did not find some options - waiting... "),r.continuePolling):(i.value=void 0,s.forEach(l=>l.selected=!0),r.log("    selected specified option(s)"),i.dispatchEvent(new Event("input",{bubbles:!0})),i.dispatchEvent(new Event("change",{bubbles:!0})),s.map(l=>l.value))}fill(e,t,r){const n=this.retarget(t,"follow-label");if(!n)return"error:notconnected";if(n.nodeName.toLowerCase()==="input"){const i=n,o=i.type.toLowerCase(),s=new Set(["color","date","time","datetime","datetime-local","month","range","week"]);if(!new Set(["","email","number","password","search","tel","text","url"]).has(o)&&!s.has(o))throw r.log(`    input of type "${o}" cannot be filled`),this.createStacklessError(`Input of type "${o}" cannot be filled`);if(o==="number"&&(e=e.trim(),isNaN(Number(e))))throw this.createStacklessError("Cannot type text into input[type=number]");if(s.has(o)){if(e=e.trim(),i.focus(),i.value=e,i.value!==e)throw this.createStacklessError("Malformed value");return n.dispatchEvent(new Event("input",{bubbles:!0})),n.dispatchEvent(new Event("change",{bubbles:!0})),"done"}}else if(n.nodeName.toLowerCase()!=="textarea"){if(!n.isContentEditable)throw this.createStacklessError("Element is not an <input>, <textarea> or [contenteditable] element")}return this.selectText(n),"needsinput"}selectText(e){const t=this.retarget(e,"follow-label");if(!t)return"error:notconnected";if(t.nodeName.toLowerCase()==="input"){const i=t;return i.select(),i.focus(),"done"}if(t.nodeName.toLowerCase()==="textarea"){const i=t;return i.selectionStart=0,i.selectionEnd=i.value.length,i.focus(),"done"}const r=t.ownerDocument.createRange();r.selectNodeContents(t);const n=t.ownerDocument.defaultView.getSelection();return n&&(n.removeAllRanges(),n.addRange(r)),t.focus(),"done"}_activelyFocused(e){const t=e.getRootNode().activeElement,r=t===e&&!!e.ownerDocument&&e.ownerDocument.hasFocus();return{activeElement:t,isFocused:r}}focusNode(e,t){if(!e.isConnected)return"error:notconnected";if(e.nodeType!==Node.ELEMENT_NODE)throw this.createStacklessError("Node is not an element");const{activeElement:r,isFocused:n}=this._activelyFocused(e);if(e.isContentEditable&&!n&&r&&r.blur&&r.blur(),e.focus(),e.focus(),t&&!n&&e.nodeName.toLowerCase()==="input")try{e.setSelectionRange(0,0)}catch{}return"done"}blurNode(e){if(!e.isConnected)return"error:notconnected";if(e.nodeType!==Node.ELEMENT_NODE)throw this.createStacklessError("Node is not an element");return e.blur(),"done"}setInputFiles(e,t){if(e.nodeType!==Node.ELEMENT_NODE)return"Node is not of type HTMLElement";const r=e;if(r.nodeName!=="INPUT")return"Not an <input> element";const n=r;if((n.getAttribute("type")||"").toLowerCase()!=="file")return"Not an input[type=file] element";const o=t.map(a=>{const l=Uint8Array.from(atob(a.buffer),c=>c.charCodeAt(0));return new File([l],a.name,{type:a.mimeType})}),s=new DataTransfer;for(const a of o)s.items.add(a);n.files=s.files,n.dispatchEvent(new Event("input",{bubbles:!0})),n.dispatchEvent(new Event("change",{bubbles:!0}))}expectHitTarget(e,t){const r=[];let n=t;for(;n;){const c=D(n);if(!c||(r.push(c),c.nodeType===9))break;n=c.host}let i;for(let c=r.length-1;c>=0;c--){const u=r[c],h=u.elementsFromPoint(e.x,e.y),g=u.elementFromPoint(e.x,e.y);if(g&&h[0]&&k(g)===h[0]){const m=this.window.getComputedStyle(g);m?.display==="contents"&&h.unshift(g)}h[0]&&h[0].shadowRoot===u&&h[1]===g&&h.shift();const S=h[0];if(!S||(i=S,c&&S!==r[c-1].host))break}const o=[];for(;i&&i!==t;)o.push(i),i=k(i);if(i===t)return"done";const s=this.previewNode(o[0]||this.document.documentElement);let a,l=t;for(;l;){const c=o.indexOf(l);if(c!==-1){c>1&&(a=this.previewNode(o[c-1]));break}l=k(l)}return a?{hitTargetDescription:`${s} from ${a} subtree`}:{hitTargetDescription:s}}setupHitTargetInterceptor(e,t,r,n){const i=this.retarget(e,"button-link");if(!i||!i.isConnected)return"error:notconnected";if(r){const c=this.expectHitTarget(r,i);if(c!=="done")return c.hitTargetDescription}if(t==="drag")return{stop:()=>"done"};const o={hover:Or,tap:Mr,mouse:qr}[t];let s;const a=c=>{if(!o.has(c.type)||!c.isTrusted)return;const u=this.window.TouchEvent&&c instanceof this.window.TouchEvent?c.touches[0]:c;s===void 0&&u&&(s=this.expectHitTarget({x:u.clientX,y:u.clientY},i)),(n||s!=="done"&&s!==void 0)&&(c.preventDefault(),c.stopPropagation(),c.stopImmediatePropagation())},l=()=>(this._hitTargetInterceptor===a&&(this._hitTargetInterceptor=void 0),s||"done");return this._hitTargetInterceptor=a,{stop:l}}dispatchEvent(e,t,r){let n;switch(r={bubbles:!0,cancelable:!0,composed:!0,...r},Hi.get(t)){case"mouse":n=new MouseEvent(t,r);break;case"keyboard":n=new KeyboardEvent(t,r);break;case"touch":n=new TouchEvent(t,r);break;case"pointer":n=new PointerEvent(t,r);break;case"focus":n=new FocusEvent(t,r);break;case"drag":n=new DragEvent(t,r);break;case"wheel":n=new WheelEvent(t,r);break;default:n=new Event(t,r);break}e.dispatchEvent(n)}previewNode(e){if(e.nodeType===Node.TEXT_NODE)return qe(`#text=${e.nodeValue||""}`);if(e.nodeType!==Node.ELEMENT_NODE)return qe(`<${e.nodeName.toLowerCase()} />`);const t=e,r=[];for(let a=0;a<t.attributes.length;a++){const{name:l,value:c}=t.attributes[a];l!=="style"&&(!c&&Di.has(l)?r.push(` ${l}`):r.push(` ${l}="${c}"`))}r.sort((a,l)=>a.length-l.length);let n=r.join("");if(n.length>50&&(n=n.substring(0,49)+"…"),Pi.has(t.nodeName))return qe(`<${t.nodeName.toLowerCase()}${n}/>`);const i=t.childNodes;let o=!1;if(i.length<=5){o=!0;for(let a=0;a<i.length;a++)o=o&&i[a].nodeType===Node.TEXT_NODE}let s=o?t.textContent||"":i.length?"…":"";return s.length>50&&(s=s.substring(0,49)+"…"),qe(`<${t.nodeName.toLowerCase()}${n}>${s}</${t.nodeName.toLowerCase()}>`)}strictModeViolationError(e,t){const r=t.slice(0,10).map(i=>({preview:this.previewNode(i),selector:this.generateSelector(i)})),n=r.map((i,o)=>`
        ${o+1}) ${i.preview} aka ${Qe(this._sdkLanguage,i.selector)}`);return r.length<t.length&&n.push(`
    ...`),this.createStacklessError(`strict mode violation: ${Qe(this._sdkLanguage,se(e))} resolved to ${t.length} elements:${n.join("")}
    `)}createStacklessError(e){if(this._browserName==="firefox"){const r=new Error("Error: "+e);return r.stack="",r}const t=new Error(e);return delete t.stack,t}maskSelectors(e,t){this._highlight&&this.hideHighlight(),this._highlight=new Rr(this),this._highlight.install();const r=[];for(const n of e)r.push(this.querySelectorAll(n,this.document.documentElement));this._highlight.maskElements(r.flat(),t)}highlight(e){this._highlight||(this._highlight=new Rr(this),this._highlight.install()),this._highlight.runHighlightOnRaf(e)}hideHighlight(){this._highlight&&(this._highlight.uninstall(),delete this._highlight)}markTargetElements(e,t){const r=new CustomEvent("__playwright_target__",{bubbles:!0,cancelable:!0,detail:t,composed:!0});for(const n of e)n.dispatchEvent(r)}_setupGlobalListenersRemovalDetection(){const e="__playwright_global_listeners_check__";let t=!1;const r=()=>t=!0;this.window.addEventListener(e,r),new MutationObserver(n=>{if(n.some(o=>Array.from(o.addedNodes).includes(this.document.documentElement))&&(t=!1,this.window.dispatchEvent(new CustomEvent(e)),!t)){this.window.addEventListener(e,r);for(const o of this.onGlobalListenersRemoved)o()}}).observe(this.document,{childList:!0})}_setupHitTargetInterceptors(){const e=r=>{var n;return(n=this._hitTargetInterceptor)==null?void 0:n.call(this,r)},t=()=>{for(const r of Fi)this.window.addEventListener(r,e,{capture:!0,passive:!1})};t(),this.onGlobalListenersRemoved.add(t)}async expect(e,t,r){return t.expression==="to.have.count"||t.expression.endsWith(".array")?this.expectArray(r,t):e?await this.expectSingleElement(e,t):!t.isNot&&t.expression==="to.be.hidden"?{matches:!0}:t.isNot&&t.expression==="to.be.visible"?{matches:!1}:!t.isNot&&t.expression==="to.be.detached"?{matches:!0}:t.isNot&&t.expression==="to.be.attached"?{matches:!1}:t.isNot&&t.expression==="to.be.in.viewport"?{matches:!1}:{matches:t.isNot,missingRecevied:!0}}async expectSingleElement(e,t){var r,n;const i=t.expression;{let o;if(i==="to.have.attribute"?o=e.hasAttribute(t.expressionArg):i==="to.be.checked"?o=this.elementState(e,"checked"):i==="to.be.unchecked"?o=this.elementState(e,"unchecked"):i==="to.be.disabled"?o=this.elementState(e,"disabled"):i==="to.be.editable"?o=this.elementState(e,"editable"):i==="to.be.readonly"?o=!this.elementState(e,"editable"):i==="to.be.empty"?e.nodeName==="INPUT"||e.nodeName==="TEXTAREA"?o=!e.value:o=!((r=e.textContent)!=null&&r.trim()):i==="to.be.enabled"?o=this.elementState(e,"enabled"):i==="to.be.focused"?o=this._activelyFocused(e).isFocused:i==="to.be.hidden"?o=this.elementState(e,"hidden"):i==="to.be.visible"?o=this.elementState(e,"visible"):i==="to.be.attached"?o=!0:i==="to.be.detached"&&(o=!1),o!==void 0){if(o==="error:notcheckbox")throw this.createStacklessError("Element is not a checkbox");if(o==="error:notconnected")throw this.createStacklessError("Element is not connected");return{received:o,matches:o}}}if(i==="to.have.property"){let o=e;const s=t.expressionArg.split(".");for(let c=0;c<s.length-1;c++){if(typeof o!="object"||!(s[c]in o))return{received:void 0,matches:!1};o=o[s[c]]}const a=o[s[s.length-1]],l=Ye(a,t.expectedValue);return{received:a,matches:l}}if(i==="to.be.in.viewport"){const o=await this.viewportRatio(e);return{received:`viewport ratio ${o}`,matches:o>0&&o>((n=t.expectedNumber)!=null?n:0)-1e-9}}if(i==="to.have.values"){if(e=this.retarget(e,"follow-label"),e.nodeName!=="SELECT"||!e.multiple)throw this.createStacklessError("Not a select element with a multiple attribute");const o=[...e.selectedOptions].map(s=>s.value);return o.length!==t.expectedText.length?{received:o,matches:!1}:{received:o,matches:o.map((s,a)=>new Ke(t.expectedText[a]).matches(s)).every(Boolean)}}{let o;if(i==="to.have.attribute.value"){const s=e.getAttribute(t.expressionArg);if(s===null)return{received:null,matches:!1};o=s}else if(i==="to.have.class")o=e.classList.toString();else if(i==="to.have.css")o=this.window.getComputedStyle(e).getPropertyValue(t.expressionArg);else if(i==="to.have.id")o=e.id;else if(i==="to.have.text")o=t.useInnerText?e.innerText:j(new Map,e).full;else if(i==="to.have.title")o=this.document.title;else if(i==="to.have.url")o=this.document.location.href;else if(i==="to.have.value"){if(e=this.retarget(e,"follow-label"),e.nodeName!=="INPUT"&&e.nodeName!=="TEXTAREA"&&e.nodeName!=="SELECT")throw this.createStacklessError("Not an input element");o=e.value}if(o!==void 0&&t.expectedText){const s=new Ke(t.expectedText[0]);return{received:o,matches:s.matches(o)}}}throw this.createStacklessError("Unknown expect matcher: "+i)}expectArray(e,t){const r=t.expression;if(r==="to.have.count"){const i=e.length,o=i===t.expectedNumber;return{received:i,matches:o}}let n;if(r==="to.have.text.array"||r==="to.contain.text.array"?n=e.map(i=>t.useInnerText?i.innerText:j(new Map,i).full):r==="to.have.class.array"&&(n=e.map(i=>i.classList.toString())),n&&t.expectedText){const i=r!=="to.contain.text.array";if(!(n.length===t.expectedText.length||!i))return{received:n,matches:!1};const s=t.expectedText.map(c=>new Ke(c));let a=0,l=0;for(;a<s.length&&l<n.length;)s[a].matches(n[l])&&++a,++l;return{received:n,matches:a===s.length}}throw this.createStacklessError("Unknown expect matcher: "+r)}getElementAccessibleName(e,t){return Fe(e,!!t)}getAriaRole(e){return H(e)}},Pi=new Set(["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","MENUITEM","META","PARAM","SOURCE","TRACK","WBR"]),Di=new Set(["checked","selected","disabled","readonly","multiple"]);function qe(e){return e.replace(/\n/g,"↵").replace(/\t/g,"⇆")}var Hi=new Map([["auxclick","mouse"],["click","mouse"],["dblclick","mouse"],["mousedown","mouse"],["mouseeenter","mouse"],["mouseleave","mouse"],["mousemove","mouse"],["mouseout","mouse"],["mouseover","mouse"],["mouseup","mouse"],["mouseleave","mouse"],["mousewheel","mouse"],["keydown","keyboard"],["keyup","keyboard"],["keypress","keyboard"],["textInput","keyboard"],["touchstart","touch"],["touchmove","touch"],["touchend","touch"],["touchcancel","touch"],["pointerover","pointer"],["pointerout","pointer"],["pointerenter","pointer"],["pointerleave","pointer"],["pointerdown","pointer"],["pointerup","pointer"],["pointermove","pointer"],["pointercancel","pointer"],["gotpointercapture","pointer"],["lostpointercapture","pointer"],["focus","focus"],["blur","focus"],["drag","drag"],["dragstart","drag"],["dragend","drag"],["dragover","drag"],["dragenter","drag"],["dragleave","drag"],["dragexit","drag"],["drop","drag"],["wheel","wheel"]]),Or=new Set(["mousemove"]),Mr=new Set(["pointerdown","pointerup","touchstart","touchend","touchcancel"]),qr=new Set(["mousedown","mouseup","pointerdown","pointerup","click","auxclick","dblclick","contextmenu"]),Fi=new Set([...Or,...Mr,...qr]);function Ui(e){if(e=e.substring(1,e.length-1),!e.includes("\\"))return e;const t=[];let r=0;for(;r<e.length;)e[r]==="\\"&&r+1<e.length&&r++,t.push(e[r++]);return t.join("")}function Pe(e,t){if(e[0]==="/"&&e.lastIndexOf("/")>0){const i=e.lastIndexOf("/"),o=new RegExp(e.substring(1,i),e.substring(i+1));return{matcher:s=>o.test(s.full),kind:"regex"}}const r=t?JSON.parse.bind(JSON):Ui;let n=!1;return e.length>1&&e[0]==='"'&&e[e.length-1]==='"'?(e=r(e),n=!0):t&&e.length>1&&e[0]==='"'&&e[e.length-2]==='"'&&e[e.length-1]==="i"?(e=r(e.substring(0,e.length-1)),n=!1):t&&e.length>1&&e[0]==='"'&&e[e.length-2]==='"'&&e[e.length-1]==="s"?(e=r(e.substring(0,e.length-1)),n=!0):e.length>1&&e[0]==="'"&&e[e.length-1]==="'"&&(e=r(e),n=!0),e=U(e),n?t?{kind:"strict",matcher:o=>U(o.full)===e}:{matcher:o=>!e&&!o.immediate.length?!0:o.immediate.some(s=>U(s)===e),kind:"strict"}:(e=e.toLowerCase(),{kind:"lax",matcher:i=>U(i.full).toLowerCase().includes(e)})}var Ke=class{constructor(e){if(this._normalizeWhiteSpace=e.normalizeWhiteSpace,this._ignoreCase=e.ignoreCase,this._string=e.matchSubstring?void 0:this.normalize(e.string),this._substring=e.matchSubstring?this.normalize(e.string):void 0,e.regexSource){const t=new Set((e.regexFlags||"").split(""));e.ignoreCase===!1&&t.delete("i"),e.ignoreCase===!0&&t.add("i"),this._regex=new RegExp(e.regexSource,[...t].join(""))}}matches(e){return this._regex||(e=this.normalize(e)),this._string!==void 0?e===this._string:this._substring!==void 0?e.includes(this._substring):this._regex?!!this._regex.test(e):!1}normalize(e){return e&&(this._normalizeWhiteSpace&&(e=U(e)),this._ignoreCase&&(e=e.toLocaleLowerCase()),e)}};function Ye(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;if(Array.isArray(e)){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Ye(e[n],t[n]))return!1;return!0}if(e instanceof RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(let n=0;n<r.length;++n)if(!t.hasOwnProperty(r[n]))return!1;for(const n of r)if(!Ye(e[n],t[n]))return!1;return!0}return typeof e=="number"&&typeof t=="number"?isNaN(e)&&isNaN(t):!1}},{}]},{},[1])}function Fr(){if(typeof window.katalonSmartLocator>"u"){const v=function(){this.window=window};(function(){window.katalonSmartLocator=new v})(),v.prototype.find_element_by_smart_locator=function(E){var w=new window.katalonpw.InjectedScript(window,!1,"javascript","testId",1,"chrome",[]);return w.querySelector(w.parseSelector(E),document.body)}}}globalThis.__callMap||(globalThis.__callMap={});const rt=globalThis.__callMap;function Ur(v,E){rt[v]||(rt[v]=!0,E())}function jr(v){new MutationObserver(w=>{w.some(N=>!(N.type!=="childList"||N.addedNodes.length===0))&&v()}).observe(document,{childList:!0,subtree:!0})}globalThis.__overriddenMethods||(globalThis.__overriddenMethods={});const nt=globalThis.__overriddenMethods;function be(v,E,w){const x=`${v.prototype.constructor.name}.${String(E)}`;if(nt[x])return;nt[x]=!0;const N=v.prototype[E],q=new Proxy(N,{apply(R,A,k){return w.apply(A,[R,A,k])}});v.prototype[E]=q}function it(){Vr()&&st(document)}function st(v){if(!v)return;v.querySelectorAll("flt-semantics-placeholder").forEach(x=>{x instanceof HTMLElement&&!x.activated&&(x.activated=!0,x.click())}),Br(v),v.querySelectorAll("flt-glass-pane").forEach(x=>{x instanceof HTMLElement&&Wr(x)})}function Wr(v){!v||v.activated||(v.activated=!0,st(v.shadowRoot))}function Br(v){const E="flutter-override-styles";if(v.getElementById(E))return;const x=document.createElement("style");x.innerHTML=`
    flt-semantics {
      pointer-events: all !important;
    }
    flt-semantics-container {
      left: 0;
      top: 0;
    }
  `,x.id=E,(v instanceof Document?v.head:v).appendChild(x)}function Vr(){return!!document.querySelector("flutter-view, flt-glass-pane, flt-semantics-placeholder")}function Gr(){be(Element,"attachShadow",(v,E,w)=>v.apply(E,[{...w[0],mode:"open"}]))}function Jr(v){if(!v)return"";const E={};return v.forEach(w=>{E[w.y]||(E[w.y]=[]),E[w.y]?.push(w)}),Object.values(E).forEach(w=>{w.sort((x,N)=>x.x-N.x)}),Object.entries(E).sort((w,x)=>w[0]-x[0]).map(([w,x])=>x.map(N=>N.text).join("")).join(`
`)}function ot(v){v.textContent=Jr(v.texts)}function at(v,E,w,x){try{v.texts||(v.texts=[]),v.texts.push({text:E,x:w,y:x}),ot(v)}catch(N){console.warn("Error in storing canvas text",N)}}function Xr(){be(CanvasRenderingContext2D,"fillText",(v,E,w)=>{v.apply(E,w),at(E.canvas,w[0],w[1],w[2])}),be(CanvasRenderingContext2D,"strokeText",(v,E,w)=>{v.apply(E,w),at(E.canvas,w[0],w[1],w[2])}),be(CanvasRenderingContext2D,"clearRect",(v,E,w)=>{v.apply(E,w);try{ot(E.canvas),E.canvas.texts||(E.canvas.texts=[]),E.canvas.texts=E.canvas.texts.filter(x=>x.x<w[0]||x.x>w[0]+w[2]||x.y<w[1]||x.y>w[1]+w[3])}catch(x){console.warn("Error in clearRect",x)}}),Ur("override-canvas-innerText",()=>{Object.defineProperty(HTMLCanvasElement.prototype,"innerText",{get(){return this.textContent||""},set(v){this.textContent=v}})})}function zr(){Gr(),Xr(),navigator.webdriver&&(it(),jr(()=>{it()}))}function Qr(){Dr(),Hr(),Fr(),zr()}Qr()})();
