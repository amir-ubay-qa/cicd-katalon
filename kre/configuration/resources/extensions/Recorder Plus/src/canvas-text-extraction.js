(function(){"use strict";globalThis.__callMap||(globalThis.__callMap={});const i=globalThis.__callMap;function x(n,e){i[n]||(i[n]=!0,e())}globalThis.__overriddenMethods||(globalThis.__overriddenMethods={});const c=globalThis.__overriddenMethods;function a(n,e,t){const o=`${n.prototype.constructor.name}.${String(e)}`;if(c[o])return;c[o]=!0;const r=n.prototype[e],d=new Proxy(r,{apply(y,p,T){return t.apply(p,[y,p,T])}});n.prototype[e]=d}function u(n){if(!n)return"";const e={};return n.forEach(t=>{e[t.y]||(e[t.y]=[]),e[t.y]?.push(t)}),Object.values(e).forEach(t=>{t.sort((o,r)=>o.x-r.x)}),Object.entries(e).sort((t,o)=>t[0]-o[0]).map(([t,o])=>o.map(r=>r.text).join("")).join(`
`)}function l(n){n.textContent=u(n.texts)}function s(n,e,t,o){try{n.texts||(n.texts=[]),n.texts.push({text:e,x:t,y:o}),l(n)}catch(r){console.warn("Error in storing canvas text",r)}}function f(){a(CanvasRenderingContext2D,"fillText",(n,e,t)=>{n.apply(e,t),s(e.canvas,t[0],t[1],t[2])}),a(CanvasRenderingContext2D,"strokeText",(n,e,t)=>{n.apply(e,t),s(e.canvas,t[0],t[1],t[2])}),a(CanvasRenderingContext2D,"clearRect",(n,e,t)=>{n.apply(e,t);try{l(e.canvas),e.canvas.texts||(e.canvas.texts=[]),e.canvas.texts=e.canvas.texts.filter(o=>o.x<t[0]||o.x>t[0]+t[2]||o.y<t[1]||o.y>t[1]+t[3])}catch(o){console.warn("Error in clearRect",o)}}),x("override-canvas-innerText",()=>{Object.defineProperty(HTMLCanvasElement.prototype,"innerText",{get(){return this.textContent||""},set(n){this.textContent=n}})})}function v(){f()}v()})();
